<!DOCTYPE html><html><head><meta charset="utf-8"/><style>body {margin: 0px;overflow: hidden;}</style></head><body><canvas id="c"></canvas><script>(function() {var d=document.getElementById("c"),k=d.getContext("2d",{alpha:!1}),aa=Math.PI,ea=2*aa;var n=Math.random,p=2*Math.PI;function fa(a,b){return function(){a();b()}}function r(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function ha(a,b){return Math.atan2(a.y-b.y,a.x-b.x)}function ia(a,b,c){var e=0;c.forEach(function(c){c.h.f==b&&(e+=ea/a)});if(!(e>=ea))return e}function v(a,b,c){return"hsl("+(0>a?360*n():a)+","+(0>b?100*n():b)+"%,"+(0>c?100*n():c)+"%)"}function ja(a,b,c){return a>c?c:a<b?b:a}
function ka(){for(var a={x:w,y:x},b=999999,c=y[0],e=y.length;e--;){var f=r(y[e],a);f<b&&(b=f,c=e)}return y[c]}function la(){if(pa){z.selection.target=null;var a=ka();r(a,{x:w,y:x})<qa&&!ra&&!sa&&(A("selected "+a.name),z.selection.target=a,z.selection.U(C,D),ta.play())}};var ua=speechSynthesis,Aa=!1,Ba,Ca=3;ua&&(Aa=!1,Ba=ua.getVoices(),0>=Ba.length&&(ua.onvoiceschanged=function(){Ba=ua.getVoices()}));function A(a){Aa&&(ua.cancel(),a=new SpeechSynthesisUtterance(a),a.rate=1,a.pitch=.1,a.lang="en-US",a.voice=Ba[Ca%Ba.length],ua.speak(a))};function Da(){function a(a){return Math.sin(6.283184*a)}var b=[a,function(a){return.5>a%1?1:-1},function(a){return a%1*2-1},function(a){a=a%1*4;return 2>a?a-1:3-a}],c,e,f,h,l;this.o=function(a){c=a;e=a.B;f=0;h=a.A*a.w*(e+1)*2;l=new Int32Array(h)};this.L=function(){var g,I,B,u,ba,P=new Int32Array(h),q=c.H[f],ca=c.A,va=c.w,Ta=0,wa=0,J;var K=!1;var xa=[];for(I=0;I<=e;++I){var ma=q.p[I];for(B=0;B<va;++B){if(ba=ma?q.c[ma-1].a[B]:0)q.b[ba-1]=q.c[ma-1].a[B+va]||0,16>ba&&(xa=[]);var Qb=b[q.b[15]],Rb=q.b[16]/
512,Sb=Math.pow(2,q.b[17]-9)/ca,Tb=q.b[18],lb=q.b[19],Ub=135.82764118168*q.b[20]/44100,Vb=1-q.b[21]/255,Ua=1E-5*q.b[22],Wb=q.b[23]/32,Xb=q.b[24]/512,Yb=6.283184*Math.pow(2,q.b[25]-9)/ca,mb=q.b[26]/255,Va=q.b[27]*ca&-2;ba=(I*va+B)*ca;for(u=0;4>u;++u)if(g=ma?q.c[ma-1].n[B+u*va]:0){if(!xa[g]){var m=xa;var Q=g;var nb=J=void 0,ya,L,t=q,ob=g,Zb=b[t.b[0]],$b=t.b[1],ac=t.b[3],bc=b[t.b[4]],cc=t.b[5],dc=t.b[8],pb=t.b[9],da=t.b[10]*t.b[10]*4,za=t.b[11]*t.b[11]*4,Wa=t.b[12]*t.b[12]*4,ec=1/Wa,na=t.b[13],fc=ca*
Math.pow(2,2-t.b[14]),qb=new Int32Array(da+za+Wa),rb=0,sb=0;for(ya=L=0;L<da+za+Wa;L++,ya++){0<=ya&&(na=na>>8|(na&255)<<4,ya-=fc,nb=.003959503758*Math.pow(2,(ob+(na&15)+t.b[2]-128-128)/12),J=.003959503758*Math.pow(2,(ob+(na&15)+t.b[6]-128-128)/12)*(1+8E-4*t.b[7]));var R=1;L<da?R=L/da:L>=da+za&&(R-=(L-da-za)*ec);var oa=nb;ac&&(oa*=R*R);rb+=oa;var Xa=Zb(rb)*$b;oa=J;dc&&(oa*=R*R);sb+=oa;Xa+=bc(sb)*cc;pb&&(Xa+=(2*Math.random()-1)*pb);qb[L]=80*Xa*R|0}m[Q]=qb}Q=xa[g];g=0;for(m=2*ba;g<Q.length;g++,m+=2)P[m]+=
Q[g]}for(g=0;g<ca;g++)u=2*(ba+g),(m=P[u])||K?(K=Ub,Tb&&(K*=Qb(Sb*u)*Rb+.5),K=1.5*Math.sin(K),Ta+=K*wa,m=Vb*(m-wa)-Ta,wa+=K*m,m=3==lb?wa:1==lb?m:Ta,Ua&&(m*=Ua,m=1>m?-1<m?a(.25*m):-1:1,m/=Ua),m*=Wb,K=1E-5<m*m,Q=Math.sin(Yb*u)*Xb+.5,J=m*(1-Q),m*=Q):J=0,u>=Va&&(J+=P[u-Va+1]*mb,m+=P[u-Va]*mb),P[u]=J|0,P[u+1]=m|0,l[u]+=J|0,l[u+1]+=m|0}}f++;return f/c.G};this.K=function(){var a=44+2*h-8,b=a-36,c=new Uint8Array(44+2*h);c.set([82,73,70,70,a&255,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,
0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,b&255,b>>8&255,b>>16&255,b>>24&255]);a=0;for(b=44;a<h;++a){var e=l[a];e=-32767>e?-32767:32767<e?32767:e;c[b++]=e&255;c[b++]=e>>8&255}return c}};var ta={H:[{b:[3,255,128,0,0,255,140,0,0,127,2,2,23,0,0,0,96,3,1,3,94,79,0,32,84,2,12,4],p:[1],c:[{n:[163],a:[]}]}],A:5513,w:1,B:0,G:1};var E=document.createElement("CANVAS"),F=E.getContext("2d");E.width=20;E.height=140;F.fillStyle="#dddddd";F.fillRect(8,50,4,40);F.fillStyle="#639bff";F.fillRect(2,0,15,60);F.fillRect(2,80,15,60);F.fillStyle="#9badb7";F.fillRect(2,65,17,10);F.fillRect(0,66,2,8);var Ea=document.createElement("CANVAS"),Fa=Ea.getContext("2d");Ea.width=32;Ea.height=32;Fa.fillStyle="#ff0000";Fa.moveTo(0,16);Fa.lineTo(32,0);Fa.lineTo(24,16);Fa.lineTo(32,32);Fa.fill();var Ga=0,Ha=0,Ia=["enemies, approaching","we are under attack","enemy, in-bound","hostiles detected"];function Ja(){for(var a=100;a--;){var b=Math.random()*p;(new Ka(3E3*Math.cos(b),3E3*Math.sin(b))).direction=b}};var La=!0,Ma=[],Na=!0,Oa=[],Pa=ta,Qa=new Da;Qa.u=new Audio;Qa.m=!0;Qa.o(Pa);Oa.push(Qa);ta=Qa.u;
Ra({H:[{b:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,194,4,1,3,25,191,115,244,147,6,84,6],p:[5,1,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,8,7,8,7,8,7,8,6,9],c:[{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130],a:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,123],a:[]},{n:[114,,,,,,,,126,,,,,,,,114,,,,,,,,114,126,111,123,114,126,118,130],a:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[111,,,,,,,,123,,,
,,,,,111,,,,,,,,99],a:[]},{n:[111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111],a:[]},{n:[114,126,,126,114,,126,114,114,126,,126,114,,126,114,114,126,,126,114,,126,114,116,128,,128,116,,114,121],a:[]},{n:[],a:[]}]},{b:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,1,1,1,1,1,1,2,,,,1,1,1,1,1,1,,,1,1,1,1,1,1],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],a:[]},{n:[147],a:[]}]},{b:[0,0,140,0,0,0,140,0,0,60,
4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5,4],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,
,147,,,147,,147,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{b:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,92,21,56,148,5,85,8],p:[3,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[111],a:[]},{n:[114],a:[]},{n:[111],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4,3],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},
{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,147,147],a:[]},{n:[147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],a:[]}]},{b:[0,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,134,4],p:[,,,1,2,3,2,1,2,,,1,2,3,2,1,2,,,,,4,5,4,5],c:[{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,157,,162,,126],a:[]},{n:[159,,147,
,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[159,,162,,164,,,,159,,162,164,,,162,,159,,162,,164,,,,159,,162,164,,,162],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[157,,162,,164,,,,157,,162,164,,,162,,157,,162,,164,,,,157,,162,164,,,162],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{b:[3,146,140,0,1,224,128,3,0,0,92,0,95,0,0,3,179,5,1,3,37,135,63,67,150,3,157,6],p:[,,,,,,,,,1,2,3,,1,2,1,2,3,,
4,5,,,,,3],c:[{n:[123,,,,,,,,,,,,,,,,130],a:[11,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,92,67]},{n:[133,,,,,,,,,,,,,,,138,126,,,,,,,,,,,,125],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,116],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],a:[]}]},
{b:[0,255,106,1,0,255,106,0,1,0,5,7,164,0,0,0,0,0,0,2,255,0,2,16,83,5,53,1],p:[,,,,,,,1,,,,,,,,,,1,,,,,,,,1],c:[{n:[147],a:[]}]}],A:5513,w:32,B:26,G:8});
Ra({H:[{b:[2,96,116,0,1,192,116,8,0,0,15,0,35,0,0,0,53,3,1,2,70,183,53,56,136,3,131,4],p:[6,6,2,7,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,4,,,5,1,1,2,3],c:[{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43]},{n:[150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155],a:[]},{n:[145,150,148,152,150,148,147,150,145,
150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[]},{n:[135,,123,,135,,123],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,148,135,152],a:[]},{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,35]},{n:[145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[11,
,13,,11,,,,11,,,,11,,13,,11,,,,11,,13,,11,,,13,,,,13,13,,36,,12,,,,9,,,,5,,37,,3,,,,1,,39,,,,,40,,,,41]}]},{b:[3,192,116,0,3,192,128,2,0,0,118,40,155,0,0,2,70,5,1,2,11,168,17,51,107,3,131,7],p:[,,,,1,1,2,3,1,1,2,4,1,1,2,4,1,1,2,4,5,,6,,1,1,2,4,1,1],c:[{n:[123,135],a:[]},{n:[126,138],a:[]},{n:[121,133],a:[]},{n:[121,133,,,,,,,,,,,,,,,145,150],a:[]},{n:[135],a:[]},{n:[126],a:[]}]},{b:[2,96,140,0,2,96,128,4,0,20,7,7,60,0,0,0,84,6,1,3,21,186,7,76,199,4,97,4],p:[,,,,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,1,1,
2,3,1,1,2,3,1],c:[{n:[123,,,123,,,123,,,123,123,,135,,123],a:[]},{n:[126,,,126,,,126,,,126,126,,138,,126],a:[]},{n:[121,,,121,,,121,,,121,121,,133,,121,,,,,,,,,,133,,145,,157,,169],a:[]}]},{b:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,32,24,5,0,0],p:[,,,,,,,3,1,2,1,2,,,,3,1,2,1,2,1,2,1,2,1,2,1,2,1],c:[{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147],a:[]},{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,147,,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,147,,,,147],a:[]}]},
{b:[0,0,92,0,0,0,92,0,0,60,4,7,29,0,0,0,0,0,0,1,232,203,0,32,108,5,7,4],p:[,,,,,,,,1,1,1,1,,,,2,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,147,147,,,147,,,,147,147,,,147,,,,147,147,,,147,,,,147,147,,147,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,147,147,,147,147],a:[]}]},{b:[3,61,116,0,3,132,128,2,0,0,13,6,107,0,0,0,0,0,0,2,12,0,8,81,109,6,96,6],p:[,,,,,,,,,,,,1,2,3,4,1,2,3,4,1,2,3,4,5],c:[{n:[159,,,,,,,,,,,,,,,,157,,,,,,,,156,,,,,,150,,171],a:[]},{n:[147],a:[]},{n:[162,,,,,,,,,,,,,,,,157,,,,,,,,153,,,,,,150],
a:[]},{n:[145,,,,,,,,,,,,,,,,,,,,,,,,157,,,,169],a:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],a:[]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,,,,,,,,,,,,,3,1,1,1,2,1,1,1,2,1,1,1,2],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,159,159,,,147,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,159,159,,,147,,,147],a:[]}]},{b:[0,192,128,0,0,192,140,18,0,216,107,115,138,0,0,1,136,6,1,2,8,92,27,32,148,5,85,8],p:[,,,,,
,,,,,,,,,,,,,,,,,,,,,,,1,1,2],c:[{n:[111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130],a:[]},{n:[],a:[]}]}],A:6300,w:32,B:30,G:8});function Ra(a){var b=new Da;b.u=new Audio;b.m=!0;b.o(a);Ma.push(b)}var Sa=0;function Ya(){for(var a=0;a<Ma.length;a++){var b=Ma[a];if(b.m){b.m=1<=b.L();Sa+=1;var c=b.K();c=URL.createObjectURL(new Blob([c],{type:"audio/wav"}));b.u.src=c}}Sa>=Ma.length&&(La=!1)}var Za=0;
function $a(){for(var a=0;a<Oa.length;a++){var b=Oa[a];if(b.m){b.m=1<=b.L();Za+=1;var c=b.K();c=URL.createObjectURL(new Blob([c],{type:"audio/wav"}));b.u.src=c}}Za>=Oa.length&&(Na=!1)};var C=0,D=0,w=0,x=0,ab=!1,sa=!1,pa=!1,bb=!1,cb=!1,ra=null,db;window.addEventListener("mousemove",function(a){var b=d.getBoundingClientRect();C=a.clientX-b.left;D=a.clientY-b.top;w=(C+G-d.width/2)/H;x=(D+M-d.height/2)*N/H;db&&(sa=!0)},!1);window.addEventListener("mousedown",function(){db=ab=!0},!1);window.addEventListener("mouseup",function(){db=!1;sa||(pa=!0);sa=!1},!1);window.addEventListener("wheel",function(a){bb=0<a.deltaY;cb=0>a.deltaY},!1);var z={x:0,y:0,elements:[],I:"",selection:null,P:function(){var a=d.width/2,b=d.height;z.selection=eb();z.elements=[z.selection,fb(z,a-24-60,b-64,"Build Satellite",null,gb),fb(z,a-24,b-64,"Build Mining Station",null,hb),fb(z,a+36,b-64,"Build Defense Platform",null,ib)]},update:function(){z.I="";z.elements.forEach(function(a){a.update()})},g:function(){z.elements.forEach(function(a){a.g()});k.fillStyle="#FFF";k.textAlign="center";k.textBaseline="middle";k.font="small-caps 700 32px monospace";k.fillText("next wave in",
d.width/2,32);k.font="700 64px monospace";k.fillText(~~(Ha/60),d.width/2,96);k.font="small-caps 700 32px monospace";k.fillText("minerals",d.width/2+300,48);k.fillText(~~O.F,d.width/2+300,80);k.font="small-caps 700 32px monospace";k.fillText("energy",d.width/2+600,48);k.fillText(~~O.j,d.width/2+600,80);k.font="small-caps 700 32px monospace";k.fillText("survived",d.width/2-300,48);k.fillText(Ga+" waves",d.width/2-300,80);k.font="small-caps 700 32px monospace";k.fillText("base status",d.width/2-600,
48);k.fillText(~~O.l+"%",d.width/2-600,80);k.font="small-caps 700 24px monospace";k.fillText(z.I,d.width/2,d.height-96)}};function gb(){A("Select an area to build the satellite")}function hb(){A("Select an area to build the mining station")}function ib(){A("Select an area to build the defense platform")}z.P();
function eb(){var a=d.width/2-180,b=d.height-128-120,c=[],e={x:a,y:b,target:null,update:function(){null!==e.target&&c.forEach(function(a){a.update()})},g:function(){null!==e.target&&(k.fillStyle="rgba(0, 0, 0, 0.5)",k.strokeStyle="rgba(255, 255, 255, 0.5)",k.fillRect(a,b,360,120),k.strokeRect(a,b,360,120),k.fillStyle="#fff",k.textAlign="left",k.textBaseline="top",k.font="16px monospace",k.fillText((O.f===e.target?"Base":"")+e.target.name,a+120,b+16),k.drawImage(e.target.cache,a+8,b+8,104,104),c.forEach(function(a){a.g()}))},
U:function(c,h){e.x=a=c;e.y=b=h},R:function(a){var b=128;a.forEach(function(a){c.push(fb(e,b,60,a.text,a.D,a.C));b+=60})}};e.R([{text:"Upgrade 1",D:null,C:gb},{text:"Upgrade 2",D:null,C:gb},{text:"Upgrade 3",D:null,C:gb}]);return e};function fb(a,b,c,e,f,h){return{update:function(){var f=a.x+b,g=a.y+c,I=C,B=D;I>f&&I<f+48&&B>g&&B<g+48&&(z.I=e,ab&&h())},g:function(){k.fillStyle="rgba(0, 0, 0, 0.5)";k.strokeStyle="rgba(255, 255, 255, 0.5)";k.fillRect(a.x+b,a.y+c,48,48);k.strokeRect(a.x+b,a.y+c,48,48);f&&k.drawImage(f,a.x+b,a.y+c,48,48)}}};var G=0,M=0,jb=0,kb=0,tb=0,ub=0,vb=0,wb=0,H=1,xb=1,N=2;function yb(){if(cb||bb)xb=ja(xb+(cb?.1:-.1),.1,2);N=Math.min(1+(H-.1),2);ab&&(zb=!0,tb=G,ub=M,vb=C,wb=D);sa&&zb?(jb=tb+(vb-C),kb=ub+(wb-D)):pa&&(zb=!1);var a=H;H+=.001>Math.abs(H-xb)?0:(xb-H)/5;a=H-a;.001<Math.abs(a)&&(G+=w*a,M+=x*a,jb+=w*a,kb+=x*a);G+=.001>Math.abs(G-jb)?0:(jb-G)/5;M+=.001>Math.abs(M-kb)?0:(kb-M)/5}function Ab(){k.setTransform(1,0,0,1,0,0)}var zb;Bb();window.addEventListener("resize",Bb,!1);function Bb(){d.width=window.innerWidth;d.height=window.innerHeight;k.clearRect(0,0,d.width,d.height);z.P()}function Cb(){k.globalAlpha=1;for(var a=y.length;a--;){var b=y[a];b.h&&Db(b);var c=Math.floor(4*H);b.s&&b.s[c]&&(c=b.s[c],k.save(),k.translate(b.x,b.y/N),k.scale(1,1/N),k.drawImage(c,0,0,c.width,c.height),k.scale(-1,1),k.drawImage(c,0,0),k.scale(1,-1),k.drawImage(c,0,0),k.scale(-1,1),k.drawImage(c,0,0),k.restore())}}
function Db(a){var b=a.h;if(b){var c=b.f.s;c||(c=b.f.s=[]);var e=Math.floor(4*H);c=c[e];if(!c){c=document.createElement("CANVAS");var f=0;y.forEach(function(a){a.h&&a.h.f===b.f&&(f=Math.max(f,a.h.i+40))});c.width=f;c.height=f;b.f.s[e]=c;c.M=[]}if(!c.M[a.id]){e=.1+e/4;var h=c.getContext("2d");h.setLineDash([5/e,5/e]);h.beginPath();h.lineWidth=2/e;h.strokeStyle=a.color;h.globalAlpha=.6;h.arc(0,0,b.i,0,p/4,!1);h.stroke();h.setLineDash(Eb);c.M[a.id]=!0}}}var Eb=[];
function Fb(){k.globalAlpha=1;for(var a=y.length;a--;){var b=y[a];if(b.type===Gb){var c=ha(b,y[0]);k.save();k.translate(b.x,b.y/N);k.rotate(c);k.scale(.2,.2);k.drawImage(E,-E.width/2,-E.height/2)}else{if(!b.cache){var e=b.type===Hb,f=e?"#FFF":b.color,h=e?50:10;c=b.size+h;var l=0,g=b.cache=document.createElement("CANVAS");g.width=2*c;g.height=2*c;g=b.cache.getContext("2d");e&&(l=1E3,g.shadowOffsetY=l);g.beginPath();g.fillStyle=f;g.shadowColor=b.color;g.shadowBlur=h;g.arc(c,c-l,b.size,0,p,!1);g.fill();
e&&(g.beginPath(),g.shadowColor="#FFF",g.shadowBlur=5,g.arc(c,c-l,b.size-5,0,p,!1),g.fill());if(!e)for(f=e=b.size,g.beginPath(),g.arc(c,c,b.size,0,2*Math.PI,!1),g.clip();e--;)g.beginPath(),g.globalAlpha=.05,g.fillStyle="#000",g.shadowColor="#000",g.shadowBlur=10,g.save(),g.transform(1,0,0,1,c-f/2+(b.size-f)/2,c),g.arc(0,0,2*f--,-p/4,p/4),g.fill(),g.restore()}c=ha(b,y[0]);k.save();k.translate(b.x,b.y/N);k.rotate(c);b.N&&(c=1+.01*Math.sin(performance.now()/30),k.scale(c,c));k.drawImage(b.cache,-b.cache.width/
2,-b.cache.height/2)}k.restore()}}function Ib(a,b){b=b||[];b.push(a);for(var c=y.length;c--;){var e=y[c],f=0<=b.indexOf(e);a!==e&&!f&&(a===O.f||a.type===Gb)&&r(a,e)<=O.J&&Ib(e,b)}return b}
function Jb(){var a=Ib(O.f);k.beginPath();for(var b=75*(N-1),c=0;c<a.length;c++)for(var e=a[c],f=c;f<a.length;f++){var h=a[f];if(h!=e&&r(h,e)<=O.J&&(e===O.f||e.type===Gb)&&(h.type===Gb||h.type===Kb||h.type===Lb)){var l=e.y/N,g=h.y/N;k.moveTo(e.x,l);k.bezierCurveTo(e.x,l-b,h.x,g-b,h.x,g)}}k.globalAlpha=ja(.2/H,.2,.8);k.lineWidth=ja(1/H*2,1,4);k.strokeStyle="#0F0";k.stroke();k.globalAlpha=1};var Mb=document.createElement("CANVAS");Mb.width=512;Mb.height=512;var S=Mb.getContext("2d");S.shadowBlur=1;S.globalAlpha=.5;for(var Nb=300;Nb--;){var Ob=512*Math.random(),Pb=512*Math.random(),gc=v(-1,100,90);S.fillStyle=gc;S.shadowColor=gc;S.beginPath();S.arc(Ob,Pb,.5,0,2*Math.PI);S.fill()}var hc=k.createPattern(Mb,"repeat");
function ic(){var a=performance.now()/2E3;k.beginPath();k.rect(0,0,d.width,d.height);k.fillStyle=hc;k.translate(.5*d.width,.5*d.height);k.scale(.5,.5);k.translate(-G/25,-M/25);k.rotate(a/200);k.fill();k.rotate(-a/200);k.scale(2,2);k.translate(-G/50,-M/50);k.fill()}var jc=document.createElement("CANVAS"),kc=jc.getContext("2d",{alpha:!1});jc.width=512;jc.height=512;kc.beginPath();var lc=kc.createRadialGradient(256,256,0,256,256,256);lc.addColorStop(0,"#141e28");lc.addColorStop(1,"#000000");
kc.fillStyle=lc;kc.fillRect(0,0,512,512);var y=[],mc=[],nc=[],Hb=0,Gb=2,Kb=3,Lb=4;
function oc(a,b,c,e,f,h){void 0===h&&(h=0);var l={name:"Some Shithole Planet"};l.type=Hb;l.x=0;l.y=0;l.color=a;l.size=b;l.N=!1;l.id=y.length.toString();l.l=100;c&&(l.h={f:c,i:e,speed:f,angle:h});l.update=function(){if(l.h){var a=l.h;a.angle+=a.speed;l.x=a.i*Math.cos(a.angle)+a.f.x;l.y=a.i*Math.sin(a.angle)+a.f.y}};l.g=function(){var a=l.h;if(a){k.beginPath();k.globalAlpha=.4;k.strokeStyle=l.color;k.lineWidth=4/H;k.save();var b=1/N;k.transform(1,0,0,b,a.f.x,a.f.y*b);k.arc(0,0,a.i,a.angle-a.speed*a.i/
2,a.angle,0>a.speed);k.restore();k.stroke()}};y.push(l);return l}function pc(a,b,c,e,f,h){void 0===h&&(h=0);a=oc(a,b,c,e+b/2,f,h);a.name="Planet";a.type=1;a.update=fa(a.update,function(){});return a}function qc(a){void 0!==ia(rc,a,mc)&&(a=oc(v(212,100,97),2,a,3*a.size,-.005,null),a.name="Mining Station",a.type=Kb,a.update=fa(a.update,function(){O.F+=O.T}))}var rc=4;
function T(a){var b=ia(sc,a,mc);void 0!==b&&(a=oc(v(160,100,50),2,a,5*a.size,.01,b),a.name="Satellite",a.type=Gb,a.index=mc.length,a.cache=E,a.update=fa(a.update,function(){O.j+=O.S}),mc.push(a))}var sc=3;function tc(a){var b=ia(uc,a,nc);void 0!==b&&(a=oc(v(33,100,50),2,a,7*a.size,.005,b),a.name="Defense Platform",a.type=Lb,a.index=nc.length,nc.push(a),a.O=vc(a),a.update=fa(a.update,a.O.update),a.g=fa(a.g,a.O.g))}var uc=2;
function vc(a){var b=0;return{update:function(){if(0>=b--){b=2;var c=null;for(var e=1E3,f=U.length;f--;){var h=U[f],l=r(a,h);l<e&&(c=h,e=l)}if(c&&.1<=O.j){O.j-=.1;e=.5<Math.random();f=a.x;h=a.y;l=ha(a,c);var g=e?2E3:r(a,c);V["#FF0"]||(V["#FF0"]=[]);V["#FF0"].push({x:f,y:h,angle:l,v:g-50});e||(c.l-=2)}}},g:function(){}}};var V={};function wc(){for(var a in V)for(var b=V[a].length;b--;){var c=V[a][b];c.v-=50;0>=c.v?V[a].splice(b,1):(c.x-=50*Math.cos(c.angle),c.y-=50*Math.sin(c.angle))}}function xc(){k.lineWidth=1;for(var a in V){k.strokeStyle=a;k.beginPath();for(var b=V[a].length;b--;){var c=V[a][b],e=c.x+10*Math.cos(c.angle),f=c.y/N+10*Math.sin(c.angle);k.moveTo(c.x,c.y/N);k.lineTo(e,f)}k.stroke()}};function Ka(a,b){this.x=a;this.y=b;this.z=Math.floor(20*Math.random());this.direction=0;this.l=10;this.target=O.f;this.o=10*Math.random();U.push(this)}
Ka.prototype={update:function(){for(var a={x:this.x,y:this.y},b=999999,c=y[0],e=y.length;e--;)if(1<y[e].type){var f=r(y[e],a);f<b&&(b=f,c=e)}this.target=y[c];a=ha(this,this.target)-this.direction+aa;this.direction+=.01*(a-Math.floor(a/ea)*ea-aa);this.x-=5*Math.cos(this.direction);this.y-=5*Math.sin(this.direction);0>=this.o--&&(this.o=10,e=r(this,this.target),500>e&&(a=this.x,b=this.y,c=ha(this,this.target),e=.5<Math.random()?2E3:e,V["#F00"]||(V["#F00"]=[]),V["#F00"].push({x:a,y:b,angle:c,v:e-50})));
0>=this.l&&U.splice(U.indexOf(this),1)}};var U=[];function yc(){for(var a=U.length;a--;)for(var b=U[a],c=a;0<c--;){var e=U[c],f=b.x-e.x,h=b.y-e.y;200>f*f+h*h&&(f=.25*(b.x-e.x),h=.25*(b.y-e.y),b.x+=f,b.y+=h,e.x-=f,e.y-=h)}for(a=U.length;a--;)U[a].update()}function zc(){for(var a=-Ea.width/2,b=-Ea.height/2,c=U.length;c--;){var e=U[c];k.save();k.translate(e.x,e.y/N-e.z*N);k.scale(.3,.3/N);k.rotate(e.direction);k.drawImage(Ea,a,b);k.restore()}};var Ac=!1,Bc=1;
function Cc(){var a=d.width/2,b=d.height/2;k.fillStyle="#FFF";k.textAlign="center";k.textBaseline="middle";k.shadowColor="#FFF";k.shadowBlur=50+2*Math.sin(performance.now()/100);k.font="small-caps 700 256px monospace";k.fillText("X",a,b-64);k.fillText("e o",a,b-90);k.shadowBlur=0;k.font="small-caps 700 32px monospace";La?k.fillText("Loading music...",a,b+64):Na?k.fillText("Loading sounds...",a,b+64):k.fillText("Click to continue!",a,b+64);k.font="small-caps 700 16px monospace";k.fillText("Created by",a,
d.height-68);k.fillText("ai Doge & Jack Oatley",a,d.height-48);k.fillText("for #js13k",a,d.height-28)};var O=null,W=0,qa=64;window.addEventListener("contextmenu",function(a){a.preventDefault()},!1);document.addEventListener("keypress",function(a){console.log(a.key);" "===a.key&&(3===W?W=1:W=3)});var Dc=v(60,100,50),X=oc(Dc,50,null,null,null,null);X.name="The Sun";X.type=Hb;X.N=!0;var Y=pc(v(180,39,62),10,X,650,.003,n()*p);O={f:Y,l:100,T:.01,S:.02,V:300,W:0,X:0,J:500,F:0,j:0};pc(v(-1,60,70),5,Y,100,-.002,n()*p);var Z=pc(v(-1,60,70),20,X,1123,.0015,n()*p);pc(v(-1,60,70),5,Z,8*Z.size,.01,n()*p);
pc(v(-1,60,70),10,Z,9*Z.size,.005,null);pc(v(-1,60,70),30,X,2532,-.001,n()*p);qc(Y);qc(Z);T(Y);T(X);T(X);T(X);T(Z);T(Z);T(Z);tc(Y);tc(Y);tc(Y);tc(Z);var Ec=performance.now(),Fc=1E3/60,Gc=0,Hc=[];(function Ic(a){requestAnimationFrame(Ic);var c=Ec+Fc;Hc.push(1/((a-Gc)/1E3));Gc=a;60<Hc.length&&(Hc.shift(),Hc.forEach(function(){}));a>c&&(Jc(Math.min(Math.floor((a-Ec)/Fc),60)),Kc(),Ec=a)})(Ec);
function Jc(a){0===W?0<Bc--||(La?Ya():Na?$a():(Ac||(Ac=!0,A("Welcum to Exo")),ab&&(W=1))):(yb(),z.update(),1===W&&(y.forEach(function(a){a.update()}),Ha--||(Ja(),Ha=600,Ga++,A(Ia[~~(Math.random()*Ia.length)])),yc(),wc(),la()));bb=cb=pa=ab=!1;--a&&Jc(a)}
function Kc(){Ab();k.clearRect(0,0,d.width,d.height);k.drawImage(jc,Math.floor(.5*d.width-G-2048),Math.floor(.5*d.height-M-2048),4096,4096);ic();if(0===W)Ab(),Cc();else{k.setTransform(H,0,0,H,-G+d.width/2,-M+d.height/2);y.forEach(function(a){a.g()});k.globalAlpha=1;Cb();Fb();zc();Jb();xc();var a=ka();r(a,{x:w,y:x})<qa&&(k.beginPath(),k.moveTo(a.x,a.y/N),k.lineTo(w,x/N),k.strokeStyle="#ffffff",k.stroke());k.setTransform(1,0,0,1,d.width/2,d.height/2);Ab();z.g()}};})();</script></body></html>

