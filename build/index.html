<!DOCTYPE html><html><head><meta charset="utf-8"/><style>body {margin: 0px;overflow: hidden;}</style></head><body><canvas id="c"></canvas><script>(function() {var c=document.getElementById("c"),l=c.getContext("2d",{alpha:!1}),aa=Math.PI,ba=2*aa;var ca=function(){var a=0,b=[];return{uu:function(d){b.push(d);if(60<b.length){var e=0,h=1E3,f=0;b.shift();b.forEach(function(a){e+=a;h=Math.min(h,a);f=Math.max(f,a)});a=~~(e/60)+", "+~~h+" - "+~~f}},get X(){return a}}}();var da=function(){var a={};return{create:function(b,d,e,h,f){a[f]||(a[f]=[]);a[f].push({x:b,y:d,aa:e,G:h-50})},uu:function(){for(var b in a)for(var d=a[b].length;d--;){var e=a[b][d];e.G-=50;0>=e.G?a[b].splice(d,1):(e.x-=50*Math.cos(e.aa),e.y-=50*Math.sin(e.aa))}},g:function(){l.globalAlpha=1;l.lineWidth=1;for(var b in a){l.strokeStyle=b;l.beginPath();for(var d=a[b].length;d--;){var e=a[b][d],h=e.x+10*Math.cos(e.aa),f=e.y/m+10*Math.sin(e.aa);l.moveTo(e.x,e.y/m);l.lineTo(h,f)}l.stroke()}}}}();var v=function(){function a(a,e,g,f){return b>a&&b<a+g&&d>e&&d<e+f}var b=0,d=0,e=0,h=0,f=!1,k=!1,g=!1,E=!1,z=!1,q=!1;window.addEventListener("mousemove",function(a){var g=c.getBoundingClientRect();b=a.clientX-g.left;d=a.clientY-g.top;e=(b+p-c.width/2)/r;h=(d+u-c.height/2)*m/r;E&&(k=!0)},!1);window.addEventListener("mousedown",function(){E=f=!0},!1);window.addEventListener("mouseup",function(){E=!1;k||(g=!0);k=!1},!1);window.addEventListener("wheel",function(a){z=0<a.deltaY;q=0>a.deltaY},!1);return{uu:function(){z=
q=g=f=!1},$:a,ca:function(b,d,e,g){return f&&a(b,d,e,g)},get x(){return b},get y(){return d},get i(){return e},get j(){return h},get cc(){return f},get N(){return k},get release(){return g},get da(){return E},get aa(){return z},get T(){return q}}}();var p=0,u=0,ea=0,fa=0,ka=0,la=0,ma=0,na=0,r=1,oa=1,m=2;function pa(){if(v.T||v.aa)oa=qa(oa+(v.T?.1:-.1),.1,2);m=Math.min(1+(r-.1),2);v.cc&&(ra=!0,ka=p,la=u,ma=v.x,na=v.y);v.N&&ra?(ea=ka+(ma-v.x),fa=la+(na-v.y)):v.release&&(ra=!1);var a=r;r+=.001>Math.abs(r-oa)?0:(oa-r)/5;a=r-a;.001<Math.abs(a)&&(p+=v.i*a,u+=v.j*a,ea+=v.i*a,fa+=v.j*a);p+=.001>Math.abs(p-ea)?0:(ea-p)/5;u+=.001>Math.abs(u-fa)?0:(fa-u)/5}function xa(){l.setTransform(1,0,0,1,0,0)}var ra;var x=Math.random,y=2*Math.PI;function ya(a,b){return function(){a();b()}}function A(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function za(a,b){return Math.atan2(a.y-b.y,a.x-b.x)}function Aa(a,b,d){var e=0;d.forEach(function(d){d.h.f==b&&(e+=ba/a)});if(!(e>=ba))return e}function B(a,b,d){return"hsl("+(0>a?360*x():a)+","+(0>b?100*x():b)+"%,"+(0>d?100*x():d)+"%)"}function qa(a,b,d){return a>d?d:a<b?b:a}
function Ba(){for(var a={x:v.i,y:v.j},b=999999,d=C[0],e=C.length;e--;){var h=A(C[e],a);h<b&&(b=h,d=e)}return C[d]}function Ca(){if(v.release){D.selection.target=null;var a=Ba();A(a,{x:v.i,y:v.j})<Da&&(Ea=a.name,v.target||v.N||(F("selected "+a.name),D.selection.target=a,D.selection.Z(v.x,v.y),Fa.play()))}};var G=speechSynthesis,Ga=!1,Ha,Ia=3;G&&(Ga=!1,Ha=G.getVoices(),0>=Ha.length&&(G.onvoiceschanged=function(){Ha=G.getVoices()}));function F(a){Ga&&(G.cancel(),a=new SpeechSynthesisUtterance(a),a.rate=1,a.pitch=.1,a.lang="en-US",a.voice=Ha[Ia%Ha.length],G.speak(a))};function Ja(){function a(a){return Math.sin(6.283184*a)}var b=[a,function(a){return.5>a%1?1:-1},function(a){return a%1*2-1},function(a){a=a%1*4;return 2>a?a-1:3-a}],d,e,h,f,k;this.u=function(a){d=a;e=a.C;h=0;f=a.B*a.A*(e+1)*2;k=new Int32Array(f)};this.O=function(){var g,E,z,q,V,N=new Int32Array(f),t=d.J[h],W=d.B,sa=d.A,Oa=0,ta=0,J;var K=!1;var ua=[];for(E=0;E<=e;++E){var ha=t.p[E];for(z=0;z<sa;++z){if(V=ha?t.c[ha-1].a[z]:0)t.b[V-1]=t.c[ha-1].a[z+sa]||0,16>V&&(ua=[]);var Ib=b[t.b[15]],Jb=t.b[16]/512,
Kb=Math.pow(2,t.b[17]-9)/W,Lb=t.b[18],hb=t.b[19],Mb=135.82764118168*t.b[20]/44100,Nb=1-t.b[21]/255,Pa=1E-5*t.b[22],Ob=t.b[23]/32,Pb=t.b[24]/512,Qb=6.283184*Math.pow(2,t.b[25]-9)/W,ib=t.b[26]/255,Qa=t.b[27]*W&-2;V=(E*sa+z)*W;for(q=0;4>q;++q)if(g=ha?t.c[ha-1].n[z+q*sa]:0){if(!ua[g]){var n=ua;var O=g;var jb=J=void 0,va,L,w=t,kb=g,Rb=b[w.b[0]],Sb=w.b[1],Tb=w.b[3],Ub=b[w.b[4]],Vb=w.b[5],Wb=w.b[8],lb=w.b[9],Z=w.b[10]*w.b[10]*4,wa=w.b[11]*w.b[11]*4,Ra=w.b[12]*w.b[12]*4,Xb=1/Ra,ia=w.b[13],Yb=W*Math.pow(2,
2-w.b[14]),mb=new Int32Array(Z+wa+Ra),nb=0,ob=0;for(va=L=0;L<Z+wa+Ra;L++,va++){0<=va&&(ia=ia>>8|(ia&255)<<4,va-=Yb,jb=.003959503758*Math.pow(2,(kb+(ia&15)+w.b[2]-128-128)/12),J=.003959503758*Math.pow(2,(kb+(ia&15)+w.b[6]-128-128)/12)*(1+8E-4*w.b[7]));var P=1;L<Z?P=L/Z:L>=Z+wa&&(P-=(L-Z-wa)*Xb);var ja=jb;Tb&&(ja*=P*P);nb+=ja;var Sa=Rb(nb)*Sb;ja=J;Wb&&(ja*=P*P);ob+=ja;Sa+=Ub(ob)*Vb;lb&&(Sa+=(2*Math.random()-1)*lb);mb[L]=80*Sa*P|0}n[O]=mb}O=ua[g];g=0;for(n=2*V;g<O.length;g++,n+=2)N[n]+=O[g]}for(g=0;g<
W;g++)q=2*(V+g),(n=N[q])||K?(K=Mb,Lb&&(K*=Ib(Kb*q)*Jb+.5),K=1.5*Math.sin(K),Oa+=K*ta,n=Nb*(n-ta)-Oa,ta+=K*n,n=3==hb?ta:1==hb?n:Oa,Pa&&(n*=Pa,n=1>n?-1<n?a(.25*n):-1:1,n/=Pa),n*=Ob,K=1E-5<n*n,O=Math.sin(Qb*q)*Pb+.5,J=n*(1-O),n*=O):J=0,q>=Qa&&(J+=N[q-Qa+1]*ib,n+=N[q-Qa]*ib),N[q]=J|0,N[q+1]=n|0,k[q]+=J|0,k[q+1]+=n|0}}h++;return h/d.I};this.M=function(){var a=44+2*f-8,b=a-36,d=new Uint8Array(44+2*f);d.set([82,73,70,70,a&255,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,
0,0,16,177,2,0,4,0,16,0,100,97,116,97,b&255,b>>8&255,b>>16&255,b>>24&255]);a=0;for(b=44;a<f;++a){var e=k[a];e=-32767>e?-32767:32767<e?32767:e;d[b++]=e&255;d[b++]=e>>8&255}return d}};var Fa={J:[{b:[3,255,128,0,0,255,140,0,0,127,2,2,23,0,0,0,96,3,1,3,94,79,0,32,84,2,12,4],p:[1],c:[{n:[163],a:[]}]}],B:5513,A:1,C:0,I:1};var H=document.createElement("CANVAS"),I=H.getContext("2d");H.width=20;H.height=140;I.fillStyle="#dddddd";I.fillRect(8,50,4,40);I.fillStyle="#639bff";I.fillRect(2,0,15,60);I.fillRect(2,80,15,60);I.fillStyle="#9badb7";I.fillRect(2,65,17,10);I.fillRect(0,66,2,8);var Ka=document.createElement("CANVAS"),La=Ka.getContext("2d");Ka.width=32;Ka.height=32;La.fillStyle="#ff0000";La.moveTo(0,16);La.lineTo(32,0);La.lineTo(24,16);La.lineTo(32,32);La.fill();var Ma=0,Na=0,Ta=["enemies, approaching","we are under attack","enemy, in-bound","hostiles detected"];function Ua(){for(var a=100;a--;){var b=Math.random()*y;(new Va(3E3*Math.cos(b),3E3*Math.sin(b))).dd=b}};var Wa=!0,Xa=[],Ya=!0,Za=[],$a=Fa,ab=new Ja;ab.w=new Audio;ab.s=!0;ab.u($a);Za.push(ab);Fa=ab.w;
bb({J:[{b:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,194,4,1,3,25,191,115,244,147,6,84,6],p:[5,1,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,8,7,8,7,8,7,8,6,9],c:[{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130],a:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,123],a:[]},{n:[114,,,,,,,,126,,,,,,,,114,,,,,,,,114,126,111,123,114,126,118,130],a:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[111,,,,,,,,123,,,
,,,,,111,,,,,,,,99],a:[]},{n:[111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111],a:[]},{n:[114,126,,126,114,,126,114,114,126,,126,114,,126,114,114,126,,126,114,,126,114,116,128,,128,116,,114,121],a:[]},{n:[],a:[]}]},{b:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,1,1,1,1,1,1,2,,,,1,1,1,1,1,1,,,1,1,1,1,1,1],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],a:[]},{n:[147],a:[]}]},{b:[0,0,140,0,0,0,140,0,0,60,
4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5,4],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,
,147,,,147,,147,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{b:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,92,21,56,148,5,85,8],p:[3,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[111],a:[]},{n:[114],a:[]},{n:[111],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4,3],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},
{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,147,147],a:[]},{n:[147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],a:[]}]},{b:[0,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,134,4],p:[,,,1,2,3,2,1,2,,,1,2,3,2,1,2,,,,,4,5,4,5],c:[{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,157,,162,,126],a:[]},{n:[159,,147,
,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[159,,162,,164,,,,159,,162,164,,,162,,159,,162,,164,,,,159,,162,164,,,162],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[157,,162,,164,,,,157,,162,164,,,162,,157,,162,,164,,,,157,,162,164,,,162],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{b:[3,146,140,0,1,224,128,3,0,0,92,0,95,0,0,3,179,5,1,3,37,135,63,67,150,3,157,6],p:[,,,,,,,,,1,2,3,,1,2,1,2,3,,
4,5,,,,,3],c:[{n:[123,,,,,,,,,,,,,,,,130],a:[11,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,92,67]},{n:[133,,,,,,,,,,,,,,,138,126,,,,,,,,,,,,125],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,116],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],a:[]}]},
{b:[0,255,106,1,0,255,106,0,1,0,5,7,164,0,0,0,0,0,0,2,255,0,2,16,83,5,53,1],p:[,,,,,,,1,,,,,,,,,,1,,,,,,,,1],c:[{n:[147],a:[]}]}],B:5513,A:32,C:26,I:8});
bb({J:[{b:[2,96,116,0,1,192,116,8,0,0,15,0,35,0,0,0,53,3,1,2,70,183,53,56,136,3,131,4],p:[6,6,2,7,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,4,,,5,1,1,2,3],c:[{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43]},{n:[150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155],a:[]},{n:[145,150,148,152,150,148,147,150,145,
150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[]},{n:[135,,123,,135,,123],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,148,135,152],a:[]},{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,35]},{n:[145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[11,
,13,,11,,,,11,,,,11,,13,,11,,,,11,,13,,11,,,13,,,,13,13,,36,,12,,,,9,,,,5,,37,,3,,,,1,,39,,,,,40,,,,41]}]},{b:[3,192,116,0,3,192,128,2,0,0,118,40,155,0,0,2,70,5,1,2,11,168,17,51,107,3,131,7],p:[,,,,1,1,2,3,1,1,2,4,1,1,2,4,1,1,2,4,5,,6,,1,1,2,4,1,1],c:[{n:[123,135],a:[]},{n:[126,138],a:[]},{n:[121,133],a:[]},{n:[121,133,,,,,,,,,,,,,,,145,150],a:[]},{n:[135],a:[]},{n:[126],a:[]}]},{b:[2,96,140,0,2,96,128,4,0,20,7,7,60,0,0,0,84,6,1,3,21,186,7,76,199,4,97,4],p:[,,,,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,1,1,
2,3,1,1,2,3,1],c:[{n:[123,,,123,,,123,,,123,123,,135,,123],a:[]},{n:[126,,,126,,,126,,,126,126,,138,,126],a:[]},{n:[121,,,121,,,121,,,121,121,,133,,121,,,,,,,,,,133,,145,,157,,169],a:[]}]},{b:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,32,24,5,0,0],p:[,,,,,,,3,1,2,1,2,,,,3,1,2,1,2,1,2,1,2,1,2,1,2,1],c:[{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147],a:[]},{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,147,,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,147,,,,147],a:[]}]},
{b:[0,0,92,0,0,0,92,0,0,60,4,7,29,0,0,0,0,0,0,1,232,203,0,32,108,5,7,4],p:[,,,,,,,,1,1,1,1,,,,2,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,147,147,,,147,,,,147,147,,,147,,,,147,147,,,147,,,,147,147,,147,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,147,147,,147,147],a:[]}]},{b:[3,61,116,0,3,132,128,2,0,0,13,6,107,0,0,0,0,0,0,2,12,0,8,81,109,6,96,6],p:[,,,,,,,,,,,,1,2,3,4,1,2,3,4,1,2,3,4,5],c:[{n:[159,,,,,,,,,,,,,,,,157,,,,,,,,156,,,,,,150,,171],a:[]},{n:[147],a:[]},{n:[162,,,,,,,,,,,,,,,,157,,,,,,,,153,,,,,,150],
a:[]},{n:[145,,,,,,,,,,,,,,,,,,,,,,,,157,,,,169],a:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],a:[]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,,,,,,,,,,,,,3,1,1,1,2,1,1,1,2,1,1,1,2],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,159,159,,,147,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,159,159,,,147,,,147],a:[]}]},{b:[0,192,128,0,0,192,140,18,0,216,107,115,138,0,0,1,136,6,1,2,8,92,27,32,148,5,85,8],p:[,,,,,
,,,,,,,,,,,,,,,,,,,,,,,1,1,2],c:[{n:[111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130],a:[]},{n:[],a:[]}]}],B:6300,A:32,C:30,I:8});function bb(a){var b=new Ja;b.w=new Audio;b.s=!0;b.u(a);Xa.push(b)}var cb=0;function db(){for(var a=0;a<Xa.length;a++){var b=Xa[a];if(b.s){b.s=1<=b.O();cb+=1;var d=b.M();d=URL.createObjectURL(new Blob([d],{type:"audio/wav"}));b.w.src=d}}cb>=Xa.length&&(Wa=!1)}var eb=0;
function fb(){for(var a=0;a<Za.length;a++){var b=Za[a];if(b.s){b.s=1<=b.O();eb+=1;var d=b.M();d=URL.createObjectURL(new Blob([d],{type:"audio/wav"}));b.w.src=d}}eb>=Za.length&&(Ya=!1)};var D={x:0,y:0,elements:[],K:"",selection:null,U:function(){var a=c.width/2,b=c.height;D.selection=gb();D.elements=[D.selection,pb(D,a-24-60,b-64,"Build Satellite",null,qb),pb(D,a-24,b-64,"Build Mining Station",null,rb),pb(D,a+36,b-64,"Build Defense Platform",null,sb)]},uu:function(){D.K="";D.elements.forEach(function(a){a.uu()})},g:function(){D.elements.forEach(function(a){a.g()});l.fillStyle="#FFF";l.textAlign="center";l.textBaseline="middle";l.font="small-caps 700 32px monospace";l.fillText("next wave in",
c.width/2,32);l.font="700 64px monospace";l.fillText(~~(Na/60),c.width/2,96);l.font="small-caps 700 32px monospace";l.fillText("minerals",c.width/2+300,48);l.fillText(~~M.H,c.width/2+300,80);l.font="small-caps 700 32px monospace";l.fillText("energy",c.width/2+600,48);l.fillText(~~M.m,c.width/2+600,80);l.font="small-caps 700 32px monospace";l.fillText("survived",c.width/2-300,48);l.fillText(Ma+" waves",c.width/2-300,80);l.font="small-caps 700 32px monospace";l.fillText("base status",c.width/2-600,
48);l.fillText(~~M.o+"%",c.width/2-600,80);l.font="small-caps 700 24px monospace";l.fillText(D.K,c.width/2,c.height-96)}};function qb(){F("Select an area to build the satellite")}function rb(){F("Select an area to build the mining station")}function sb(){F("Select an area to build the defense platform")}D.U();
function gb(){var a=c.width/2-180,b=c.height-128-120,d=[],e={x:a,y:b,target:null,uu:function(){null!==e.target&&d.forEach(function(a){a.uu()})},g:function(){null!==e.target&&(l.fillStyle="rgba(0, 0, 0, 0.5)",l.strokeStyle="rgba(255, 255, 255, 0.5)",l.fillRect(a,b,360,120),l.strokeRect(a,b,360,120),l.fillStyle="#fff",l.textAlign="left",l.textBaseline="top",l.font="16px monospace",l.fillText((M.f===e.target?"Base":"")+e.target.name,a+120,b+16),l.drawImage(e.target.cache,a+8,b+8,104,104),d.forEach(function(a){a.g()}))},
Z:function(d,f){e.x=a=d;e.y=b=f},V:function(a){var b=128;a.forEach(function(a){d.push(pb(e,b,60,a.text,a.F,a.D));b+=60})}};e.V([{text:"Upgrade 1",F:null,D:qb},{text:"Upgrade 2",F:null,D:qb},{text:"Upgrade 3",F:null,D:qb}]);return e};function pb(a,b,d,e,h,f){return{uu:function(){v.$(a.x+b,a.y+d,48,48)&&(D.K=e,v.cc&&f())},g:function(){l.fillStyle="rgba(0, 0, 0, 0.5)";l.strokeStyle="rgba(255, 255, 255, 0.5)";l.fillRect(a.x+b,a.y+d,48,48);l.strokeRect(a.x+b,a.y+d,48,48);h&&l.drawImage(h,a.x+b,a.y+d,48,48)}}};var Ea="";tb();window.addEventListener("resize",tb,!1);function tb(){c.width=window.innerWidth;c.height=window.innerHeight;l.clearRect(0,0,c.width,c.height);D.U()}function ub(){l.globalAlpha=1;for(var a=C.length;a--;){var b=C[a];b.h&&vb(b);var d=Math.floor(4*r);b.v&&b.v[d]&&(d=b.v[d],l.save(),l.translate(b.x,b.y/m),l.scale(1,1/m),l.drawImage(d,0,0,d.width,d.height),l.scale(-1,1),l.drawImage(d,0,0),l.scale(1,-1),l.drawImage(d,0,0),l.scale(-1,1),l.drawImage(d,0,0),l.restore())}}
function vb(a){var b=a.h;if(b){var d=b.f.v;d||(d=b.f.v=[]);var e=Math.floor(4*r);d=d[e];if(!d){d=document.createElement("CANVAS");var h=0;C.forEach(function(a){a.h&&a.h.f===b.f&&(h=Math.max(h,a.h.l+40))});d.width=h;d.height=h;b.f.v[e]=d;d.P=[]}if(!d.P[a.id]){e=.1+e/4;var f=d.getContext("2d");f.setLineDash([5/e,5/e]);f.beginPath();f.lineWidth=2/e;f.strokeStyle=a.color;f.globalAlpha=.6;f.arc(0,0,b.l,0,y/4,!1);f.stroke();f.setLineDash(wb);d.P[a.id]=!0}}}var wb=[];
function xb(){l.globalAlpha=1;for(var a=C.length;a--;){var b=C[a];if(b.type===yb){var d=za(b,C[0]);l.save();l.translate(b.x,b.y/m);l.rotate(d);l.scale(.2,.2);l.drawImage(H,-H.width/2,-H.height/2)}else{if(!b.cache){var e=b.type===zb,h=e?"#FFF":b.color,f=e?50:10;d=b.size+f;var k=0,g=b.cache=document.createElement("CANVAS");g.width=2*d;g.height=2*d;g=b.cache.getContext("2d");e&&(k=1E3,g.shadowOffsetY=k);g.beginPath();g.fillStyle=h;g.shadowColor=b.color;g.shadowBlur=f;g.arc(d,d-k,b.size,0,y,!1);g.fill();
e&&(g.beginPath(),g.shadowColor="#FFF",g.shadowBlur=5,g.arc(d,d-k,b.size-5,0,y,!1),g.fill());if(!e)for(h=e=b.size,g.beginPath(),g.arc(d,d,b.size,0,2*Math.PI,!1),g.clip();e--;)g.beginPath(),g.globalAlpha=.05,g.fillStyle="#000",g.shadowColor="#000",g.shadowBlur=10,g.save(),g.transform(1,0,0,1,d-h/2+(b.size-h)/2,d),g.arc(0,0,2*h--,-y/4,y/4),g.fill(),g.restore()}d=za(b,C[0]);l.save();l.translate(b.x,b.y/m);l.rotate(d);b.R&&(d=1+.01*Math.sin(performance.now()/30),l.scale(d,d));l.drawImage(b.cache,-b.cache.width/
2,-b.cache.height/2)}l.restore()}}function Ab(a,b){b=b||[];b.push(a);for(var d=C.length;d--;){var e=C[d],h=0<=b.indexOf(e);a!==e&&!h&&(a===M.f||a.type===yb)&&A(a,e)<=M.L&&Ab(e,b)}return b}
function Bb(){var a=Ab(M.f);l.globalAlpha=qa(.2/r,.2,.8);l.lineWidth=qa(1/r*2,1,4);l.strokeStyle="#0F0";l.beginPath();for(var b=75*(m-1),d=0;d<a.length;d++)for(var e=a[d],h=d;h<a.length;h++){var f=a[h];if(f!=e&&A(f,e)<=M.L&&(e===M.f||e.type===yb)&&(f.type===yb||f.type===Cb||f.type===Db)){var k=e.y/m,g=f.y/m;l.moveTo(e.x,k);l.bezierCurveTo(e.x,k-b,f.x,g-b,f.x,g)}}l.stroke()};var Eb=document.createElement("CANVAS");Eb.width=512;Eb.height=512;var Q=Eb.getContext("2d");Q.shadowBlur=1;Q.globalAlpha=.5;for(var Fb=300;Fb--;){var Gb=512*Math.random(),Hb=512*Math.random(),Zb=B(-1,100,90);Q.fillStyle=Zb;Q.shadowColor=Zb;Q.beginPath();Q.arc(Gb,Hb,.5,0,2*Math.PI);Q.fill()}var $b=l.createPattern(Eb,"repeat");
function ac(){var a=performance.now()/2E3;l.beginPath();l.rect(0,0,c.width,c.height);l.fillStyle=$b;l.translate(.5*c.width,.5*c.height);l.scale(.5,.5);l.translate(-p/25,-u/25);l.rotate(a/200);l.fill();l.rotate(-a/200);l.scale(2,2);l.translate(-p/50,-u/50);l.fill()}var bc=document.createElement("CANVAS"),cc=bc.getContext("2d",{alpha:!1});bc.width=512;bc.height=512;cc.beginPath();var dc=cc.createRadialGradient(256,256,0,256,256,256);dc.addColorStop(0,"#141e28");dc.addColorStop(1,"#000000");
cc.fillStyle=dc;cc.fillRect(0,0,512,512);var C=[],ec=[],fc=[],zb=0,yb=2,Cb=3,Db=4;
function gc(a,b,d,e,h,f){void 0===f&&(f=0);var k={name:"Some Shithole Planet"};k.type=zb;k.x=0;k.y=0;k.color=a;k.size=b;k.R=!1;k.id=C.length.toString();k.o=100;d&&(k.h={f:d,l:e,ss:h,aa:f});k.uu=function(){if(k.h){var a=k.h;a.aa+=a.ss;k.x=a.l*Math.cos(a.aa)+a.f.x;k.y=a.l*Math.sin(a.aa)+a.f.y}};k.g=function(){var a=k.h;if(a){l.beginPath();l.globalAlpha=.4;l.strokeStyle=k.color;l.lineWidth=4/r;l.save();var b=1/m;l.transform(1,0,0,b,a.f.x,a.f.y*b);l.arc(0,0,a.l,a.aa-a.ss*a.l/
2,a.aa,0>a.ss);l.restore();l.stroke()}};C.push(k);return k}function hc(a,b,d,e,h,f){void 0===f&&(f=0);a=gc(a,b,d,e+b/2,h,f);a.name="Planet";a.type=1;a.uu=ya(a.uu,function(){});return a}function ic(a){void 0!==Aa(jc,a,ec)&&(a=gc(B(212,100,97),2,a,3*a.size,-.005,null),a.name="Mining Station",a.type=Cb,a.uu=ya(a.uu,function(){M.H+=M.Y}))}var jc=4;
function R(a){var b=Aa(kc,a,ec);void 0!==b&&(a=gc(B(160,100,50),2,a,5*a.size,.01,b),a.name="Satellite",a.type=yb,a.index=ec.length,a.cache=H,a.uu=ya(a.uu,function(){M.m+=M.W}),ec.push(a))}var kc=3;function lc(a){var b=Aa(mc,a,fc);void 0!==b&&(a=gc(B(33,100,50),2,a,7*a.size,.005,b),a.name="Defense Platform",a.type=Db,a.index=fc.length,fc.push(a),a.S=nc(a),a.uu=ya(a.uu,a.S.uu),a.g=ya(a.g,a.S.g))}var mc=2;
function nc(a){var b=0;return{uu:function(){if(0>=b--){b=2;var d=null;for(var e=1E3,h=S.length;h--;){var f=S[h],k=A(a,f);k<e&&(d=f,e=k)}d&&.1<=M.m&&(M.m-=.1,e=.5<Math.random(),da.create(a.x,a.y,za(a,d),e?2E3:A(a,d),"#FF0"),e||(d.o-=2))}},g:function(){}}};function Va(a,b){this.x=a;this.y=b;this.z=Math.floor(20*Math.random());this.dd=0;this.o=10;this.target=M.f;this.u=10*Math.random();S.push(this)}
Va.prototype={uu:function(){for(var a={x:this.x,y:this.y},b=999999,d=C[0],e=C.length;e--;)if(1<C[e].type){var h=A(C[e],a);h<b&&(b=h,d=e)}this.target=C[d];a=za(this,this.target)-this.dd+aa;this.dd+=.01*(a-Math.floor(a/ba)*ba-aa);this.x-=5*Math.cos(this.dd);this.y-=5*Math.sin(this.dd);0>=this.u--&&(this.u=10,a=A(this,this.target),500>a&&da.create(this.x,this.y,za(this,this.target),.5<Math.random()?2E3:a,"#F00"));0>=this.o&&S.splice(S.indexOf(this),1)}};var S=[];
function oc(){for(var a=S.length;a--;)for(var b=S[a],d=a;0<d--;){var e=S[d],h=b.x-e.x,f=b.y-e.y;200>h*h+f*f&&(h=.25*(b.x-e.x),f=.25*(b.y-e.y),b.x+=h,b.y+=f,e.x-=h,e.y-=f)}for(a=S.length;a--;)S[a].uu()}function pc(){for(var a=-Ka.width/2,b=-Ka.height/2,d=S.length;d--;){var e=S[d];l.save();l.translate(e.x,e.y/m-e.z*m);l.scale(.3,.3/m);l.rotate(e.dd);l.drawImage(Ka,a,b);l.restore()}};var qc=!1,rc=1;
function sc(){var a=c.width/2,b=c.height/2;l.fillStyle="#FFF";l.textAlign="center";l.textBaseline="middle";l.shadowColor="#FFF";l.shadowBlur=50+2*Math.sin(performance.now()/100);l.font="small-caps 700 256px monospace";l.fillText("X",a,b-64);l.fillText("e o",a,b-90);l.shadowBlur=0;l.font="small-caps 700 32px monospace";Wa?l.fillText("Loading music...",a,b+64):Ya?l.fillText("Loading sounds...",a,b+64):l.fillText("Click to continue!",a,b+64);l.font="small-caps 700 16px monospace";l.fillText("Created by",a,
c.height-68);l.fillText("ai Doge & Jack Oatley",a,c.height-48);l.fillText("for #js13k",a,c.height-28)};var M=null,T=0,Da=64;window.addEventListener("contextmenu",function(a){a.preventDefault()},!1);document.addEventListener("keypress",function(a){" "===a.key&&(3===T?T=1:T=3)});var tc=B(60,100,50),U=gc(tc,50,null,null,null,null);U.name="The Sun";U.type=zb;U.R=!0;var X=hc(B(180,39,62),10,U,650,.003,x()*y);M={f:X,o:100,Y:.01,W:.02,ba:300,ea:0,fa:0,L:500,H:0,m:0};hc(B(-1,60,70),5,X,100,-.002,x()*y);var Y=hc(B(-1,60,70),20,U,1123,.0015,x()*y);hc(B(-1,60,70),5,Y,8*Y.size,.01,x()*y);
hc(B(-1,60,70),10,Y,9*Y.size,.005,null);hc(B(-1,60,70),30,U,2532,-.001,x()*y);ic(X);ic(Y);R(X);R(U);R(U);R(U);R(Y);R(Y);R(Y);lc(X);lc(X);lc(X);lc(Y);var uc=performance.now(),vc=1E3/60,wc=0;(function xc(a){requestAnimationFrame(xc);var d=uc+vc;ca.uu(1/((a-wc)/1E3));wc=a;a>d&&(yc(Math.min(Math.floor((a-uc)/vc),60)),zc(),uc=a)})(uc);
function yc(a){0===T?0<rc--||(Wa?db():Ya?fb():(qc||(qc=!0,F("Welcum to Exo")),v.cc&&(T=1))):(Ea="",pa(),D.uu(),1===T&&(C.forEach(function(a){a.uu()}),Na--||(Ua(),Na=600,Ma++,F(Ta[~~(Math.random()*Ta.length)])),oc(),da.uu(),Ca()));v.uu();--a&&yc(a)}
function zc(){xa();l.clearRect(0,0,c.width,c.height);l.drawImage(bc,Math.floor(.5*c.width-p-2048),Math.floor(.5*c.height-u-2048),4096,4096);ac();if(0===T)xa(),sc();else{l.setTransform(r,0,0,r,-p+c.width/2,-u+c.height/2);C.forEach(function(a){a.g()});l.globalAlpha=1;ub();xb();pc();Bb();da.g();var a=Ba();A(a,{x:v.i,y:v.j})<Da&&(l.beginPath(),l.moveTo(a.x,a.y/m),l.lineTo(v.i,v.j/m),l.strokeStyle="#ffffff",l.stroke());l.setTransform(1,0,0,1,c.width/2,c.height/2);xa();D.g();l.font="14px monospace";l.textBaseline=
"top";l.textAlign="left";l.fillStyle="#fff";l.fillText("#js13k tower defense prototype",20,220);l.fillText("https://github.com/scorp200/td13k",20,240);l.fillText("framerate: "+ca.X,20,260);l.fillText("mouse (gui): "+v.x+", "+v.y,20,280);l.fillText("mouse (view): "+v.i+", "+v.j,20,300);l.fillText("planet name: "+Ea,20,320);l.fillText("view x: "+p,20,360);l.fillText("view y: "+u,20,380);l.fillText("view zoom: "+r,20,400);l.fillText("view tilt: "+m,20,420)}};})();</script></body></html>
