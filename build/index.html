<!DOCTYPE html><html><head><meta charset="utf-8"/><style>body {margin: 0px;overflow: hidden;}</style></head><body><canvas id="c"></canvas><script>(function() {var d=document.getElementById("c"),l=d.getContext("2d",{alpha:!1}),ba=Math.PI,ca=2*ba;var da=function(){var a=0,b=[];return{update:function(c){b.push(c);if(60<b.length){var e=0,f=1E3,g=0;b.shift();b.forEach(function(a){e+=a;f=Math.min(f,a);g=Math.max(g,a)});a=~~(e/60)+", "+~~f+" - "+~~g}},get $(){return a}}}();var ea=function(){var a={};return{create:function(b,c,e,f,g){!a[g]&&(a[g]=[]);a[g].push({x:b,y:c,angle:e,i:f-50})},update:function(){for(var b in a)for(var c=a[b],e=c.length;e--;){var f=c[e];f.i-=50;0>=f.i?(f=c,f[e]=f[f.length-1],--f.length):(f.x-=50*Math.cos(f.angle),f.y-=50*Math.sin(f.angle))}},g:function(){l.globalAlpha=1;l.lineWidth=1;for(var b in a){l.strokeStyle=b;l.beginPath();for(var c=a[b].length;c--;){var e=a[b][c],f=e.x+10*Math.cos(e.angle),g=e.y/m+10*Math.sin(e.angle);l.moveTo(e.x,e.y/
m);l.lineTo(f,g)}l.stroke()}}}}();var ha=function(){function a(a){var c=[],f;for(f in b)b[f].I===a&&c.push(f);return c}var b={};return{C:function(){Object.assign(b,{ja:{I:fa,name:"Lasers",v:null,u:null},fa:{I:fa,name:"Beam",v:null,u:null},ka:{I:fa,name:"Rockets",v:null,u:null}})},ga:a,get:function(c){if(!c.D)return[];var e=[];a(c.type).forEach(function(a){var f=c.D,k=b[a];e.push({v:k.v,text:k.name+" (Level "+(f.type===a?f.level+1:1)+")",u:k.u})});return e}}}();var p={};function ia(){for(var a in p)for(var b=p[a].length;b--;){var c=p[a][b];c.i-=50;0>=c.i?(c.V&&c.V(),p[a].splice(b,1)):(c.x-=50*Math.cos(c.angle),c.y-=50*Math.sin(c.angle))}}function ma(){l.lineWidth=1;for(var a in p){l.strokeStyle=a;l.beginPath();for(var b=p[a].length;b--;){var c=p[a][b],e=c.x+10*Math.cos(c.angle),f=c.y/m+10*Math.sin(c.angle);l.moveTo(c.x,c.y/m);l.lineTo(e,f)}l.stroke()}};var x=function(){function a(a,e,h,f){return b>a&&b<a+h&&c>e&&c<e+f}var b=0,c=0,e=0,f=0,g=!1,k=!1,h=!1,F=!1,z=!1,q=!1;window.addEventListener("mousemove",function(a){var h=d.getBoundingClientRect();b=a.clientX-h.left;c=a.clientY-h.top;e=(b+r-d.width/2)/t;f=(c+v-d.height/2)*m/t;F&&(k=!0)},!1);window.addEventListener("mousedown",function(){F=g=!0},!1);window.addEventListener("mouseup",function(){F=!1;k||(h=!0);k=!1},!1);window.addEventListener("wheel",function(a){z=0<a.deltaY;q=0>a.deltaY},!1);return{update:function(){z=
q=h=g=!1},ca:a,ha:function(b,c,e,h){return g&&a(b,c,e,h)},get x(){return b},get y(){return c},get j(){return e},get l(){return f},get click(){return g},get R(){return k},get release(){return h},get ia(){return F},get da(){return z},get W(){return q}}}();var r=0,v=0,na=0,oa=0,pa=0,qa=0,ra=0,sa=0,t=1,ya=1,m=2;function za(){if(x.W||x.da)ya=Aa(ya+(x.W?.1:-.1),.1,2);m=Math.min(1+(t-.1),2);x.click&&(Ba=!0,pa=r,qa=v,ra=x.x,sa=x.y);x.R&&Ba?(na=pa+(ra-x.x),oa=qa+(sa-x.y)):x.release&&(Ba=!1);var a=t;t+=.001>Math.abs(t-ya)?0:(ya-t)/5;a=t-a;.001<Math.abs(a)&&(r+=x.j*a,v+=x.l*a,na+=x.j*a,oa+=x.l*a);r+=.001>Math.abs(r-na)?0:(na-r)/5;v+=.001>Math.abs(v-oa)?0:(oa-v)/5}function Ca(){l.setTransform(1,0,0,1,0,0)}var Ba;var y=Math.random,A=2*Math.PI;function Da(a,b){return function(){a();b()}}function B(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)}function Ea(a,b){return Math.atan2(a.y-b.y,a.x-b.x)}function Fa(a,b,c){var e=0;c.forEach(function(c){c.h.f==b&&(e+=ca/a)});if(!(e>=ca))return e}function C(a,b,c){return"hsl("+(0>a?360*y():a)+","+(0>b?100*y():b)+"%,"+(0>c?100*y():c)+"%)"}function Aa(a,b,c){return a>c?c:a<b?b:a}
function Ga(){for(var a={x:x.j,y:x.l},b=999999,c=D[0],e=D.length;e--;){var f=B(D[e],a);f<b&&(b=f,c=e)}return D[c]}function Ha(){if(x.release){E.selection.target=null;var a=Ga();B(a,{x:x.j,y:x.l})<Ia&&(Ja=a.name,x.target||x.R||(G("selected "+a.name),E.selection.target=a,E.selection.ba(x.x,x.y),E.selection.Y(ha.get(a)),Ka.play()))}};var H=speechSynthesis,La=!1,Ma,Na=3;H&&(La=!1,Ma=H.getVoices(),0>=Ma.length&&(H.onvoiceschanged=function(){Ma=H.getVoices()}));function G(a){La&&(H.cancel(),a=new SpeechSynthesisUtterance(a),a.rate=1,a.pitch=.1,a.lang="en-US",a.voice=Ma[Na%Ma.length],H.speak(a))};function Oa(){function a(a){return Math.sin(6.283184*a)}var b=[a,function(a){return.5>a%1?1:-1},function(a){return a%1*2-1},function(a){a=a%1*4;return 2>a?a-1:3-a}],c,e,f,g,k;this.C=function(a){c=a;e=a.H;f=0;g=a.G*a.F*(e+1)*2;k=new Int32Array(g)};this.S=function(){var h,F,z,q,W,O=new Int32Array(g),u=c.L[f],X=c.G,ta=c.F,Pa=0,ua=0,K;var L=!1;var va=[];for(F=0;F<=e;++F){var ja=u.p[F];for(z=0;z<ta;++z){if(W=ja?u.c[ja-1].a[z]:0)u.b[W-1]=u.c[ja-1].a[z+ta]||0,16>W&&(va=[]);var Lb=b[u.b[15]],Mb=u.b[16]/512,
Nb=Math.pow(2,u.b[17]-9)/X,Ob=u.b[18],jb=u.b[19],Pb=135.82764118168*u.b[20]/44100,Qb=1-u.b[21]/255,Qa=1E-5*u.b[22],Rb=u.b[23]/32,Sb=u.b[24]/512,Tb=6.283184*Math.pow(2,u.b[25]-9)/X,kb=u.b[26]/255,Ra=u.b[27]*X&-2;W=(F*ta+z)*X;for(q=0;4>q;++q)if(h=ja?u.c[ja-1].n[z+q*ta]:0){if(!va[h]){var n=va;var P=h;var lb=K=void 0,wa,M,w=u,mb=h,Ub=b[w.b[0]],Vb=w.b[1],Wb=w.b[3],Xb=b[w.b[4]],Yb=w.b[5],Zb=w.b[8],nb=w.b[9],aa=w.b[10]*w.b[10]*4,xa=w.b[11]*w.b[11]*4,Sa=w.b[12]*w.b[12]*4,$b=1/Sa,ka=w.b[13],ac=X*Math.pow(2,
2-w.b[14]),ob=new Int32Array(aa+xa+Sa),pb=0,qb=0;for(wa=M=0;M<aa+xa+Sa;M++,wa++){0<=wa&&(ka=ka>>8|(ka&255)<<4,wa-=ac,lb=.003959503758*Math.pow(2,(mb+(ka&15)+w.b[2]-128-128)/12),K=.003959503758*Math.pow(2,(mb+(ka&15)+w.b[6]-128-128)/12)*(1+8E-4*w.b[7]));var Q=1;M<aa?Q=M/aa:M>=aa+xa&&(Q-=(M-aa-xa)*$b);var la=lb;Wb&&(la*=Q*Q);pb+=la;var Ta=Ub(pb)*Vb;la=K;Zb&&(la*=Q*Q);qb+=la;Ta+=Xb(qb)*Yb;nb&&(Ta+=(2*Math.random()-1)*nb);ob[M]=80*Ta*Q|0}n[P]=ob}P=va[h];h=0;for(n=2*W;h<P.length;h++,n+=2)O[n]+=P[h]}for(h=
0;h<X;h++)q=2*(W+h),(n=O[q])||L?(L=Pb,Ob&&(L*=Lb(Nb*q)*Mb+.5),L=1.5*Math.sin(L),Pa+=L*ua,n=Qb*(n-ua)-Pa,ua+=L*n,n=3==jb?ua:1==jb?n:Pa,Qa&&(n*=Qa,n=1>n?-1<n?a(.25*n):-1:1,n/=Qa),n*=Rb,L=1E-5<n*n,P=Math.sin(Tb*q)*Sb+.5,K=n*(1-P),n*=P):K=0,q>=Ra&&(K+=O[q-Ra+1]*kb,n+=O[q-Ra]*kb),O[q]=K|0,O[q+1]=n|0,k[q]+=K|0,k[q+1]+=n|0}}f++;return f/c.K};this.P=function(){var a=44+2*g-8,b=a-36,c=new Uint8Array(44+2*g);c.set([82,73,70,70,a&255,a>>8&255,a>>16&255,a>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,
172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,b&255,b>>8&255,b>>16&255,b>>24&255]);a=0;for(b=44;a<g;++a){var e=k[a];e=-32767>e?-32767:32767<e?32767:e;c[b++]=e&255;c[b++]=e>>8&255}return c}};var Ka={L:[{b:[3,255,128,0,0,255,140,0,0,127,2,2,23,0,0,0,96,3,1,3,94,79,0,32,84,2,12,4],p:[1],c:[{n:[163],a:[]}]}],G:5513,F:1,H:0,K:1};var I=document.createElement("CANVAS"),J=I.getContext("2d");I.width=20;I.height=140;J.fillStyle="#dddddd";J.fillRect(8,50,4,40);J.fillStyle="#639bff";J.fillRect(2,0,15,60);J.fillRect(2,80,15,60);J.fillStyle="#9badb7";J.fillRect(2,65,17,10);J.fillRect(0,66,2,8);var Ua=document.createElement("CANVAS"),Va=Ua.getContext("2d");Ua.width=32;Ua.height=32;Va.fillStyle="#ff0000";Va.moveTo(0,16);Va.lineTo(32,0);Va.lineTo(24,16);Va.lineTo(32,32);Va.fill();var Wa=0,Xa=0,Ya=["enemies, approaching","we are under attack","enemy, in-bound","hostiles detected"];function Za(){for(var a=100;a--;){var b=Math.random()*A;(new $a(3E3*Math.cos(b),3E3*Math.sin(b))).direction=b}};var ab=!0,bb=[],cb=!0,db=[],eb=Ka,fb=new Oa;fb.A=new Audio;fb.s=!0;fb.C(eb);db.push(fb);Ka=fb.A;
gb({L:[{b:[2,100,128,0,3,201,128,0,0,0,0,6,29,0,0,0,194,4,1,3,25,191,115,244,147,6,84,6],p:[5,1,2,1,1,1,1,3,4,1,2,1,2,1,2,,,7,8,7,8,7,8,7,8,6,9],c:[{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130],a:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,48]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,11,13,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,31]},{n:[111,,,,,,,,123,,,,,,,,111,,,,,,,,123],a:[]},{n:[114,,,,,,,,126,,,,,,,,114,,,,,,,,114,126,111,123,114,126,118,130],a:[13,,,,,,,,,,,,,,,,,,,,,,,,13,,13,,13,,13,11,29,,,,,,,,,,,,,,,,,,,,,,,,32,,41,,29,,25,15]},{n:[123,123,135,128,123,123,135,130,126,125,126,128,123,123,135,128,123,123,135,130,126,125,126,128,123,,99,,,,99,,,,,,,,,,,,,,,,,,,,,,,,,,111],a:[13,11,21,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,17,29,,25,113,,,,,,,,,,,,,,,,,,,,,,,,,,,,194]},{n:[111,,,,,,,,123,,,
,,,,,111,,,,,,,,99],a:[]},{n:[111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111,111,123,,123,111,,123,111],a:[]},{n:[114,126,,126,114,,126,114,114,126,,126,114,,126,114,114,126,,126,114,,126,114,116,128,,128,116,,114,121],a:[]},{n:[],a:[]}]},{b:[0,255,117,1,0,255,110,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,39,76,5,0,0],p:[,1,1,1,1,1,1,2,,,,1,1,1,1,1,1,,,1,1,1,1,1,1],c:[{n:[147,,,,,,147,,,,147,,,,,,147,,,,,,147,,,,147,,,,147],a:[]},{n:[147],a:[]}]},{b:[0,0,140,0,0,0,140,0,0,60,
4,10,68,0,0,0,187,5,0,1,239,135,0,32,108,5,16,4],p:[,1,1,2,3,2,3,4,,,,2,3,2,3,2,3,,,5,5,5,5,5,5,4],c:[{n:[,,,,147,,,,,,,,148,,,,,,,,147,,,,,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[,,,,147,,,147,,,,,148,,,,,,,,147,,,147,,,147,,,147,147,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]},{n:[147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68]},{n:[147,,,147,,,147,,147,,,147,,147,,147,147,,,147,,,147,
,147,,,147,,147,,147],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,35]}]},{b:[2,192,128,0,2,192,140,18,0,0,107,115,138,0,0,0,136,5,1,2,8,92,21,56,148,5,85,8],p:[3,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2],c:[{n:[111],a:[]},{n:[114],a:[]},{n:[111],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,56]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,1,2,1,2,3,,,,1,2,1,2,1,2,,,1,4,1,4,1,4,3],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},
{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,147,147],a:[]},{n:[147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147,,,147],a:[]}]},{b:[0,91,128,0,0,95,128,12,0,0,12,0,67,0,0,0,0,0,0,2,255,15,0,32,83,3,134,4],p:[,,,1,2,3,2,1,2,,,1,2,3,2,1,2,,,,,4,5,4,5],c:[{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[159,,147,,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,157,,162,,126],a:[]},{n:[159,,147,
,154,,147,,157,,147,,154,,150,,159,,147,,154,,147,,162,,147,,154,,150,,123],a:[5,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[159,,162,,164,,,,159,,162,164,,,162,,159,,162,,164,,,,159,,162,164,,,162],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,25]},{n:[157,,162,,164,,,,157,,162,164,,,162,,157,,162,,164,,,,157,,162,164,,,162],a:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]}]},{b:[3,146,140,0,1,224,128,3,0,0,92,0,95,0,0,3,179,5,1,3,37,135,63,67,150,3,157,6],p:[,,,,,,,,,1,2,3,,1,2,1,2,3,,
4,5,,,,,3],c:[{n:[123,,,,,,,,,,,,,,,,130],a:[11,24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,92,67]},{n:[133,,,,,,,,,,,,,,,138,126,,,,,,,,,,,,125],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,11,,,,95,,,,,,,,,,,,,,,,,,,,,,,,,,,,29]},{n:[123],a:[24,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,52,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,67]},{n:[123,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,116],a:[11,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,95]},{n:[133,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,126,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,118],a:[]}]},
{b:[0,255,106,1,0,255,106,0,1,0,5,7,164,0,0,0,0,0,0,2,255,0,2,16,83,5,53,1],p:[,,,,,,,1,,,,,,,,,,1,,,,,,,,1],c:[{n:[147],a:[]}]}],G:5513,F:32,H:26,K:8});
gb({L:[{b:[2,96,116,0,1,192,116,8,0,0,15,0,35,0,0,0,53,3,1,2,70,183,53,56,136,3,131,4],p:[6,6,2,7,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,4,,,5,1,1,2,3],c:[{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,43]},{n:[150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155,150,155,153,157,155,153,152,155],a:[]},{n:[145,150,148,152,150,148,147,150,145,
150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[]},{n:[135,,123,,135,,123],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,,,138,148,135,152],a:[]},{n:[147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152,147,152,150,154,152,150,149,152],a:[11,13,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,15,35]},{n:[145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150,145,150,148,152,150,148,147,150],a:[11,
,13,,11,,,,11,,,,11,,13,,11,,,,11,,13,,11,,,13,,,,13,13,,36,,12,,,,9,,,,5,,37,,3,,,,1,,39,,,,,40,,,,41]}]},{b:[3,192,116,0,3,192,128,2,0,0,118,40,155,0,0,2,70,5,1,2,11,168,17,51,107,3,131,7],p:[,,,,1,1,2,3,1,1,2,4,1,1,2,4,1,1,2,4,5,,6,,1,1,2,4,1,1],c:[{n:[123,135],a:[]},{n:[126,138],a:[]},{n:[121,133],a:[]},{n:[121,133,,,,,,,,,,,,,,,145,150],a:[]},{n:[135],a:[]},{n:[126],a:[]}]},{b:[2,96,140,0,2,96,128,4,0,20,7,7,60,0,0,0,84,6,1,3,21,186,7,76,199,4,97,4],p:[,,,,1,1,2,3,1,1,2,3,1,1,2,3,1,1,2,3,1,1,
2,3,1,1,2,3,1],c:[{n:[123,,,123,,,123,,,123,123,,135,,123],a:[]},{n:[126,,,126,,,126,,,126,126,,138,,126],a:[]},{n:[121,,,121,,,121,,,121,121,,133,,121,,,,,,,,,,133,,145,,157,,169],a:[]}]},{b:[0,255,116,1,0,255,116,0,1,0,4,6,35,0,0,0,0,0,0,2,14,1,1,32,24,5,0,0],p:[,,,,,,,3,1,2,1,2,,,,3,1,2,1,2,1,2,1,2,1,2,1,2,1],c:[{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147],a:[]},{n:[147,,,,147,,,,147,,,,147,,,,147,,,,147,,,,147,,147,,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,147,,147,,,,147],a:[]}]},
{b:[0,0,92,0,0,0,92,0,0,60,4,7,29,0,0,0,0,0,0,1,232,203,0,32,108,5,7,4],p:[,,,,,,,,1,1,1,1,,,,2,1,1,1,1,1,1,1,1,1,1,1,1],c:[{n:[,,147,147,,,147,,,,147,147,,,147,,,,147,147,,,147,,,,147,147,,147,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,,,147,147,,147,147],a:[]}]},{b:[3,61,116,0,3,132,128,2,0,0,13,6,107,0,0,0,0,0,0,2,12,0,8,81,109,6,96,6],p:[,,,,,,,,,,,,1,2,3,4,1,2,3,4,1,2,3,4,5],c:[{n:[159,,,,,,,,,,,,,,,,157,,,,,,,,156,,,,,,150,,171],a:[]},{n:[147],a:[]},{n:[162,,,,,,,,,,,,,,,,157,,,,,,,,153,,,,,,150],
a:[]},{n:[145,,,,,,,,,,,,,,,,,,,,,,,,157,,,,169],a:[]},{n:[135,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,123],a:[]}]},{b:[3,0,127,0,3,68,127,0,1,218,4,4,40,0,0,1,55,4,1,2,67,115,124,190,67,6,39,1],p:[,,,,,,,,,,,,,,,3,1,1,1,2,1,1,1,2,1,1,1,2],c:[{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,,,,,147],a:[]},{n:[,,,,147,,,,,,,,147,,,,,,,,147,,,,159,159,,,147,,,147],a:[]},{n:[,,,,,,,,,,,,,,,,,,,,,,,,159,159,,,147,,,147],a:[]}]},{b:[0,192,128,0,0,192,140,18,0,216,107,115,138,0,0,1,136,6,1,2,8,92,27,32,148,5,85,8],p:[,,,,,
,,,,,,,,,,,,,,,,,,,,,,,1,1,2],c:[{n:[111,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,130],a:[]},{n:[],a:[]}]}],G:6300,F:32,H:30,K:8});function gb(a){var b=new Oa;b.A=new Audio;b.s=!0;b.C(a);bb.push(b)}var hb=0;function ib(){for(var a=0;a<bb.length;a++){var b=bb[a];if(b.s){b.s=1<=b.S();hb+=1;var c=b.P();c=URL.createObjectURL(new Blob([c],{type:"audio/wav"}));b.A.src=c}}hb>=bb.length&&(ab=!1)}var rb=0;
function sb(){for(var a=0;a<db.length;a++){var b=db[a];if(b.s){b.s=1<=b.S();rb+=1;var c=b.P();c=URL.createObjectURL(new Blob([c],{type:"audio/wav"}));b.A.src=c}}rb>=db.length&&(cb=!1)};var E={x:0,y:0,elements:[],M:"",selection:null,X:function(){var a=d.width/2,b=d.height;E.selection=tb();E.elements=[E.selection,ub(E,a-24-60,b-64,"Build Satellite",null,vb),ub(E,a-24,b-64,"Build Mining Station",null,wb),ub(E,a+36,b-64,"Build Defense Platform",null,xb)]},update:function(){E.M="";E.elements.forEach(function(a){a.update()})},g:function(){E.elements.forEach(function(a){a.g()});l.fillStyle="#FFF";l.textAlign="center";l.textBaseline="middle";l.font="small-caps 700 32px monospace";l.fillText("next wave in",
d.width/2,32);l.font="700 64px monospace";l.fillText(~~(Xa/60),d.width/2,96);l.font="small-caps 700 32px monospace";l.fillText("minerals",d.width/2+300,48);l.fillText(~~N.J,d.width/2+300,80);l.font="small-caps 700 32px monospace";l.fillText("energy",d.width/2+600,48);l.fillText(~~N.o,d.width/2+600,80);l.font="small-caps 700 32px monospace";l.fillText("survived",d.width/2-300,48);l.fillText(Wa+" waves",d.width/2-300,80);l.font="small-caps 700 32px monospace";l.fillText("base status",d.width/2-600,
48);l.fillText(~~N.B+"%",d.width/2-600,80);l.font="small-caps 700 24px monospace";l.fillText(E.M,d.width/2,d.height-96)}};function vb(){G("Select an area to build the satellite")}function wb(){G("Select an area to build the mining station")}function xb(){G("Select an area to build the defense platform")}E.X();
function tb(){var a=d.width/2-180,b=d.height-128-120,c=[],e={x:a,y:b,target:null,update:function(){null!==e.target&&c.forEach(function(a){a.update()})},g:function(){null!==e.target&&(l.fillStyle="rgba(0, 0, 0, 0.5)",l.strokeStyle="rgba(255, 255, 255, 0.5)",l.fillRect(a,b,360,120),l.strokeRect(a,b,360,120),l.fillStyle="#fff",l.textAlign="left",l.textBaseline="top",l.font="16px monospace",l.fillText((N.f===e.target?"Base":"")+e.target.name,a+120,b+16),l.drawImage(e.target.cache,a+8,b+8,104,104),c.forEach(function(a){a.g()}))},
ba:function(c,g){e.x=a=c;e.y=b=g},Y:function(a){c.length=0;var b=128;a.forEach(function(a){c.push(ub(e,b,60,a.text,a.v,a.u));b+=60})}};return e};function ub(a,b,c,e,f,g){return{update:function(){x.ca(a.x+b,a.y+c,48,48)&&(E.M=e,x.click&&g&&g())},g:function(){l.fillStyle="rgba(0, 0, 0, 0.5)";l.strokeStyle="rgba(255, 255, 255, 0.5)";l.fillRect(a.x+b,a.y+c,48,48);l.strokeRect(a.x+b,a.y+c,48,48);f&&l.drawImage(f,a.x+b,a.y+c,48,48)}}};var Ja="";yb();window.addEventListener("resize",yb,!1);function yb(){d.width=window.innerWidth;d.height=window.innerHeight;l.clearRect(0,0,d.width,d.height);E.X()}function zb(){l.globalAlpha=1;for(var a=D.length;a--;){var b=D[a];b.h&&Ab(b);var c=Math.floor(4*t);b.w&&b.w[c]&&(c=b.w[c],l.save(),l.translate(b.x,b.y/m),l.scale(1,1/m),l.drawImage(c,0,0,c.width,c.height),l.scale(-1,1),l.drawImage(c,0,0),l.scale(1,-1),l.drawImage(c,0,0),l.scale(-1,1),l.drawImage(c,0,0),l.restore())}}
function Ab(a){var b=a.h;if(b){var c=b.f.w;c||(c=b.f.w=[]);var e=Math.floor(4*t);c=c[e];if(!c){c=document.createElement("CANVAS");var f=0;D.forEach(function(a){a.h&&a.h.f===b.f&&(f=Math.max(f,a.h.m+40))});c.width=f;c.height=f;b.f.w[e]=c;c.T=[]}if(!c.T[a.id]){e=.1+e/4;var g=c.getContext("2d");g.setLineDash([5/e,5/e]);g.beginPath();g.lineWidth=2/e;g.strokeStyle=a.color;g.globalAlpha=.6;g.arc(0,0,b.m,0,A/4,!1);g.stroke();g.setLineDash(Bb);c.T[a.id]=!0}}}var Bb=[];
function Cb(){l.globalAlpha=1;for(var a=D.length;a--;){var b=D[a];if(b.type===Db){var c=Ea(b,D[0]);l.save();l.translate(b.x,b.y/m);l.rotate(c);l.scale(.2,.2);l.drawImage(I,-I.width/2,-I.height/2)}else{if(!b.cache){var e=b.type===Eb,f=e?"#FFF":b.color,g=e?50:10;c=b.size+g;var k=0,h=b.cache=document.createElement("CANVAS");h.width=2*c;h.height=2*c;h=b.cache.getContext("2d");e&&(k=1E3,h.shadowOffsetY=k);h.beginPath();h.fillStyle=f;h.shadowColor=b.color;h.shadowBlur=g;h.arc(c,c-k,b.size,0,A,!1);h.fill();
e&&(h.beginPath(),h.shadowColor="#FFF",h.shadowBlur=5,h.arc(c,c-k,b.size-5,0,A,!1),h.fill());if(!e)for(f=e=b.size,h.beginPath(),h.arc(c,c,b.size,0,2*Math.PI,!1),h.clip();e--;)h.beginPath(),h.globalAlpha=.05,h.fillStyle="#000",h.shadowColor="#000",h.shadowBlur=10,h.save(),h.transform(1,0,0,1,c-f/2+(b.size-f)/2,c),h.arc(0,0,2*f--,-A/4,A/4),h.fill(),h.restore()}c=Ea(b,D[0]);l.save();l.translate(b.x,b.y/m);l.rotate(c);b.U&&(c=1+.01*Math.sin(performance.now()/30),l.scale(c,c));l.drawImage(b.cache,-b.cache.width/
2,-b.cache.height/2)}l.restore()}}function Fb(a,b){b=b||[];b.push(a);for(var c=D.length;c--;){var e=D[c],f=0<=b.indexOf(e);a!==e&&!f&&(a===N.f||a.type===Db)&&B(a,e)<=N.O&&Fb(e,b)}return b}
function Gb(){var a=Fb(N.f);l.globalAlpha=Aa(.2/t,.2,.8);l.lineWidth=Aa(1/t*2,1,4);l.strokeStyle="#0F0";l.beginPath();for(var b=75*(m-1),c=0;c<a.length;c++)for(var e=a[c],f=c;f<a.length;f++){var g=a[f];if(g!=e&&B(g,e)<=N.O&&(e===N.f||e.type===Db)&&(g.type===Db||g.type===Hb||g.type===fa)){var k=e.y/m,h=g.y/m;l.moveTo(e.x,k);l.bezierCurveTo(e.x,k-b,g.x,h-b,g.x,h)}}l.stroke()};var Ib=document.createElement("CANVAS");Ib.width=512;Ib.height=512;var R=Ib.getContext("2d");R.shadowBlur=1;R.globalAlpha=.5;for(var Jb=300;Jb--;){var Kb=512*Math.random(),bc=512*Math.random(),cc=C(-1,100,90);R.fillStyle=cc;R.shadowColor=cc;R.beginPath();R.arc(Kb,bc,.5,0,2*Math.PI);R.fill()}var dc=l.createPattern(Ib,"repeat");
function ec(){var a=performance.now()/2E3;l.beginPath();l.rect(0,0,d.width,d.height);l.fillStyle=dc;l.translate(.5*d.width,.5*d.height);l.scale(.5,.5);l.translate(-r/25,-v/25);l.rotate(a/200);l.fill();l.rotate(-a/200);l.scale(2,2);l.translate(-r/50,-v/50);l.fill()}var fc=document.createElement("CANVAS"),gc=fc.getContext("2d",{alpha:!1});fc.width=512;fc.height=512;gc.beginPath();var hc=gc.createRadialGradient(256,256,0,256,256,256);hc.addColorStop(0,"#141e28");hc.addColorStop(1,"#000000");
gc.fillStyle=hc;gc.fillRect(0,0,512,512);var D=[],ic=[],jc=[],Eb=0,Db=2,Hb=3,fa=4;ha.C();
function kc(a,b,c,e,f,g){void 0===g&&(g=0);var k={name:"Some Shithole Planet"};k.type=Eb;k.x=0;k.y=0;k.color=a;k.size=b;k.U=!1;k.id=D.length.toString();k.B=100;k.na=[];c&&(k.h={f:c,m:e,speed:f,angle:g});k.update=function(){if(k.h){var a=k.h;a.angle+=a.speed;k.x=a.m*Math.cos(a.angle)+a.f.x;k.y=a.m*Math.sin(a.angle)+a.f.y}};k.g=function(){var a=k.h;if(a){l.beginPath();l.globalAlpha=.4;l.strokeStyle=k.color;l.lineWidth=4/t;l.save();var b=1/m;l.transform(1,0,0,b,a.f.x,a.f.y*b);l.arc(0,0,a.m,a.angle-a.speed*
a.m/2,a.angle,0>a.speed);l.restore();l.stroke()}};D.push(k);return k}function lc(a,b,c,e,f,g){void 0===g&&(g=0);a=kc(a,b,c,e+b/2,f,g);a.name="Planet";a.type=1;a.update=Da(a.update,function(){});return a}function mc(a){void 0!==Fa(nc,a,ic)&&(a=kc(C(212,100,97),2,a,3*a.size,-.005,null),a.name="Mining Station",a.type=Hb,a.update=Da(a.update,function(){N.J+=N.aa}))}var nc=4;
function S(a){var b=Fa(oc,a,ic);void 0!==b&&(a=kc(C(160,100,50),2,a,5*a.size,.01,b),a.name="Satellite",a.type=Db,a.index=ic.length,a.cache=I,a.update=Da(a.update,function(){N.o+=N.Z}),ic.push(a))}var oc=3;function pc(a){var b=Fa(qc,a,jc);void 0!==b&&(a=kc(C(33,100,50),2,a,7*a.size,.005,b),a.name="Defense Platform",a.type=fa,a.index=jc.length,jc.push(a),a.D=rc(a),a.update=Da(a.update,a.D.update),a.g=Da(a.g,a.D.g))}var qc=2;
function rc(a){var b=20;return{type:"rocket",level:4,update:function(){if(0>=b--){b=20;for(var c,e=null,f=1500,g=T.length;g--;){c=T[g];var k=B(a,c);k<f&&(e=c,f=k)}(c=e)&&.5<=N.o&&(N.o-=.5,e=a.x,f=a.y,g=Ea(a,c),c=B(a,c),p["#00B"]||(p["#00B"]=[]),p["#00B"].push({x:e,y:f,angle:g,i:c-50,V:void 0}))}},g:function(){}}};function $a(a,b){this.x=a;this.y=b;this.z=Math.floor(20*Math.random());this.direction=0;this.B=10;this.target=N.f;this.N=10*Math.random();T.push(this)}
$a.prototype={update:function(){for(var a={x:this.x,y:this.y},b=999999,c=D[0],e=D.length;e--;)if(1<D[e].type){var f=B(D[e],a);f<b&&(b=f,c=e)}this.target=D[c];a=Ea(this,this.target)-this.direction+ba;this.direction+=.01*(a-Math.floor(a/ca)*ca-ba);this.x-=5*Math.cos(this.direction);this.y-=5*Math.sin(this.direction);0>=this.N--&&(this.N=10,a=B(this,this.target),500>a&&ea.create(this.x,this.y,Ea(this,this.target),.5<Math.random()?2E3:a,"#F00"));0>=this.B&&T.splice(T.indexOf(this),1)}};var T=[];
function sc(){for(var a=T.length;a--;)for(var b=T[a],c=a;0<c--;){var e=T[c],f=b.x-e.x,g=b.y-e.y;200>f*f+g*g&&(f=.25*(b.x-e.x),g=.25*(b.y-e.y),b.x+=f,b.y+=g,e.x-=f,e.y-=g)}for(a=T.length;a--;)T[a].update()}function tc(){for(var a=-Ua.width/2,b=-Ua.height/2,c=T.length;c--;){var e=T[c];l.save();l.translate(e.x,e.y/m-e.z*m);l.scale(.3,.3/m);l.rotate(e.direction);l.drawImage(Ua,a,b);l.restore()}};var uc=!1,vc=1;
function wc(){var a=d.width/2,b=d.height/2;l.fillStyle="#FFF";l.textAlign="center";l.textBaseline="middle";l.shadowColor="#FFF";l.shadowBlur=50+2*Math.sin(performance.now()/100);l.font="small-caps 700 256px monospace";l.fillText("X",a,b-64);l.fillText("e o",a,b-90);l.shadowBlur=0;l.font="small-caps 700 32px monospace";ab?l.fillText("Loading music...",a,b+64):cb?l.fillText("Loading sounds...",a,b+64):l.fillText("Click to continue!",a,b+64);l.font="small-caps 700 16px monospace";l.fillText("Created by",a,
d.height-68);l.fillText("ai Doge & Jack Oatley",a,d.height-48);l.fillText("for #js13k",a,d.height-28)};var N=null,U=0,Ia=64;window.addEventListener("contextmenu",function(a){a.preventDefault()},!1);document.addEventListener("keypress",function(a){" "===a.key&&(3===U?U=1:U=3)});var xc=C(60,100,50),V=kc(xc,50,null,null,null,null);V.name="The Sun";V.type=Eb;V.U=!0;var Y=lc(C(180,39,62),10,V,650,.003,y()*A);N={f:Y,B:100,aa:.01,Z:.02,ea:300,la:0,ma:0,O:500,J:0,o:0};lc(C(-1,60,70),5,Y,100,-.002,y()*A);var Z=lc(C(-1,60,70),20,V,1123,.0015,y()*A);lc(C(-1,60,70),5,Z,8*Z.size,.01,y()*A);
lc(C(-1,60,70),10,Z,9*Z.size,.005,null);lc(C(-1,60,70),30,V,2532,-.001,y()*A);mc(Y);mc(Z);S(Y);S(V);S(V);S(V);S(Z);S(Z);S(Z);pc(Y);pc(Y);pc(Y);pc(Z);var yc=performance.now(),zc=1E3/60,Ac=0;(function Bc(a){requestAnimationFrame(Bc);var c=yc+zc;da.update(1/((a-Ac)/1E3));Ac=a;a>c&&(Cc(Math.min(Math.floor((a-yc)/zc),60)),Dc(),yc=a)})(yc);
function Cc(a){0===U?0<vc--||(ab?ib():cb?sb():(uc||(uc=!0,G("Welcum to Exo")),x.click&&(U=1))):(Ja="",za(),E.update(),1===U&&(D.forEach(function(a){a.update()}),Xa--||(Za(),Xa=600,Wa++,G(Ya[~~(Math.random()*Ya.length)])),sc(),ea.update(),ia(),Ha()));x.update();--a&&Cc(a)}
function Dc(){Ca();l.clearRect(0,0,d.width,d.height);l.drawImage(fc,Math.floor(.5*d.width-r-2048),Math.floor(.5*d.height-v-2048),4096,4096);ec();if(0===U)Ca(),wc();else{l.setTransform(t,0,0,t,-r+d.width/2,-v+d.height/2);D.forEach(function(a){a.g()});l.globalAlpha=1;zb();Cb();tc();Gb();ea.g();ma();var a=Ga();B(a,{x:x.j,y:x.l})<Ia&&(l.beginPath(),l.moveTo(a.x,a.y/m),l.lineTo(x.j,x.l/m),l.strokeStyle="#ffffff",l.stroke());l.setTransform(1,0,0,1,d.width/2,d.height/2);Ca();E.g();l.font="14px monospace";
l.textBaseline="top";l.textAlign="left";l.fillStyle="#fff";l.fillText("#js13k tower defense prototype",20,220);l.fillText("https://github.com/scorp200/td13k",20,240);l.fillText("framerate: "+da.$,20,260);l.fillText("mouse (gui): "+x.x+", "+x.y,20,280);l.fillText("mouse (view): "+x.j+", "+x.l,20,300);l.fillText("planet name: "+Ja,20,320);l.fillText("view x: "+r,20,360);l.fillText("view y: "+v,20,380);l.fillText("view zoom: "+t,20,400);l.fillText("view tilt: "+m,20,420)}};})();</script></body></html>

